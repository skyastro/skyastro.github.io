(this.webpackJsonpOrbZ=this.webpackJsonpOrbZ||[]).push([[0],{22:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a.n(r),i=a(16),s=a.n(i),c=(a(22),a(0)),o=a(1),l=a(11),u=a(2),m=a(3),h=a(13),f=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"log",value:function(){for(var e="",t="",a=0;a<arguments.length;a+=1)e+=t+arguments[a],t=" ";console.log(e)}},{key:"determinant3",value:function(e){return e[0][0]*(e[1][1]*e[2][2]-e[1][2]*e[2][1])+-e[0][1]*(e[1][0]*e[2][2]-e[1][2]*e[2][0])+e[0][2]*(e[1][0]*e[2][1]-e[1][1]*e[2][0])}},{key:"mag",value:function(e){var t=0;for(var a in e)t+=e[a]*e[a];return Math.sqrt(t)}},{key:"dot",value:function(e,t){if(e.length!==t.length)throw new Error("Incompatible vectors in dot product");for(var a=0,r=0;r<e.length;r+=1)a+=e[r]*t[r];return a}},{key:"times",value:function(t,a){if(!Array.isArray(a))throw new Error("Second element in times is scalar, not vector or matrix");if(!Array.isArray(t))return a.map((function(e){return t*e}));var r=t[0];if(!Array.isArray(r))throw new Error("First element in times not scalar or matrix");if(Array.isArray(a[0])){for(var n=[],i=0;i<3;i+=1)n[i]=e.times(t,a[i]);return n}return[e.dot(t[0],a),e.dot(t[1],a),e.dot(t[2],a)]}},{key:"rvec",value:function(e,t){return[e[0][t],e[1][t],e[2][t]]}},{key:"vadd",value:function(e,t){if(e.length!==t.length)throw new Error("Incompatible vectors in add");for(var a=Object(h.a)(e),r=0;r<a.length;r+=1)a[r]+=t[r];return a}},{key:"cross",value:function(e,t){return[e[1]*t[2]-e[2]*t[1],-e[0]*t[2]+e[2]*t[0],e[0]*t[1]-e[1]*t[0]]}},{key:"rot",value:function(e,t){var a,r,n;switch(t){case"x":a=1,r=2,n=0;break;case"y":a=0,r=2,n=1;break;case"z":a=0,r=1,n=2;break;default:throw new Error("Unknown axis")}var i=[[0,0,0],[0,0,0],[0,0,0]];return i[n][n]=1,i[r][r]=i[a][a]=Math.cos(e),i[a][r]=Math.sin(e),i[r][a]=-i[a][r],i}},{key:"printMatrix",value:function(t){e.log("Matrix: ");for(var a=0;a<3;a+=1)e.log("    "+t[0][a].toFixed(5)+" "+t[1][a].toFixed(5)+" "+t[2][a].toFixed(5))}}]),e}();f.toRadians=function(e){return e*Math.PI/180},f.toDegrees=function(e){return 180*e/Math.PI};var d=f,p=a(5),g=a(17),v=function e(){Object(c.a)(this,e)};v.MEarth=1/332946.0487*(v.MSun=(v.GMSun=132712440018e9)/(v.G=66743e-15)),v.AU=149597870700,v.CENTURY=3155695200,v.JD0=2451544.5,v.Epoch0=new Date(2e3,0,1).getTime()/1e3,v.dSun=1392e6,v.rEarth=6378100,v.SOLAR_DAY=86400,v.SIDEREAL_DAY=86164.0905,v.SIDEREAL_ANGLE_AT_EPOCH=175.1731379442,v.PLANAR_RATIO=1e-10,v.SHAPE_RATIO=1e-10,v.HALT_RATIO=1e-12,v.radUnits=[{unit:"au",scale:v.AU},{unit:"km",scale:1e3},{unit:"m",scale:1},{unit:"rE",scale:v.rEarth}],v.angUnits=[{unit:"d",scale:Math.PI/180},{unit:"rad",scale:1}],v.timeUnits=[{unit:"day",scale:86400},{unit:"s",scale:1},{unit:"jd",scale:86400,offset:v.JD0}],v.velUnits=[{unit:"au/day",scale:v.AU/86400},{unit:"km/s",scale:1e3},{unit:"m/s",scale:1}],v.massUnits=[{unit:"Ms",scale:v.MSun},{unit:"Me",scale:v.MEarth},{unit:"kg",scale:1}],v.intervUnits=[{unit:"day",scale:86400},{unit:"y",scale:31558149.76},{unit:"s",scale:1}];var O=v,b=function(){function e(t){Object(c.a)(this,e);var a={camera:null,renderer:null,controls:null,animation:null,userControls:null};for(var r in a)this[r]=a[r];if(this.mouseTime=null,t)for(var r in t)this[r]=t[r];this.startedRun=!1,this.setupTHREE(this.animDiv)}return Object(o.a)(e,[{key:"setUserControls",value:function(e){this.userControls=e}},{key:"setAnimation",value:function(e){this.animation;this.animation?(d.log("Switching animations from ",this.animation.name,"to",e.name),this.animation.cameraPos=this.camera.position.clone(),this.animation.cameraRot=this.camera.rotation.clone()):d.log("Starting initial animation ",e.name),this.animation=e,this.camera.position.copy(e.cameraPos),this.camera.rotation.copy(e.cameraRot),this.camera.updateProjectionMatrix(),this.userControls.setAnimation(e);var t=!1;e.initialShowOptions&&(t=!0),this.userControls.setState({options:this.empty,showingOptions:t}),this.startedRun||this.run()}},{key:"run",value:function(){if(this.startedRun)return d.log("Attempt to start second animation run"),void console.trace();this.startedRun=!0;var e=this;!function t(){1,requestAnimationFrame(t),e.animation.loading?d.log("Loading "+e.animation.name):(e.animation.update(),e.controls.update(1),e.renderer.render(e.animation.scene,e.camera))}()}},{key:"mouseTimeDown",value:function(){this.mouseTime||(this.mouseTime=Date.now())}},{key:"mouseTimeUp",value:function(e){this.mouseTime&&this.animation.longClickTime&&Date.now()-this.mouseTime>this.animation.longClickTime&&this.renderer.domElement.dispatchEvent(new CustomEvent("longClick",{detail:e})),this.mouseTime=null}},{key:"setupTHREE",value:function(e){var t;e&&(t=document.getElementById(e)),t||(t=document.body),this.camera=new p.r(this.cameraFoV,1,this.camNear,this.camFar),this.renderer=new p.F({antialias:!0}),this.renderer.setClearColor("#050505"),this.renderer.setSize(this.size[0],this.size[1]),this.resize(this.size[0],this.size[1]),this.controls=new g.a(this.camera,this.renderer.domElement),this.raycaster=new p.v,this.raycaster.params.Line={threshold:.12},this.raycaster.params.Points={threshold:.05},this.raycaster.near=0,this.raycaster.far=500,t.appendChild(this.renderer.domElement);var a=this.renderer.domElement;a.addEventListener("mouseup",this.mouseTimeUp.bind(this)),a.addEventListener("mousedown",this.mouseTimeDown.bind(this)),a.addEventListener("click",this.clickListener.bind(this))}},{key:"clickListener",value:function(e){var t=this.raycast(e);this.animation.raycastResult(t)}},{key:"raycast",value:function(e){var t=this.renderer.domElement,a=t.getBoundingClientRect(),r=Math.floor((e.clientX-a.left)/(a.right-a.left)*t.width),n=Math.floor((e.clientY-a.top)/(a.bottom-a.top)*t.height),i={};i.x=r/t.width*2-1,i.y=-n/t.height*2+1,this.raycaster.setFromCamera(i,this.camera);for(var s=this.raycaster.intersectObjects(this.animation.scene.children,!0),c={},o=0;o<s.length;o++){var l=s[o],u=l.object.elementName;if(l.object.getIndexedName){var m=l.index||l.instanceId;u=l.object.getIndexedName(m)}c[u]?l.distanceToRay<c[u]&&(c[u]=l.distanceToRay):c[u]=l.distanceToRay}return c}},{key:"resize",value:function(e,t){this.camera&&this.renderer?(this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)):d.log("Frame.resize called prematurely")}}]),e}(),E=a(4),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).animation=null,r.empty=Object(E.jsx)("div",{}),r.state={options:r.empty,showingOptions:!1,running:!0},r}return Object(o.a)(a,[{key:"setAnimation",value:function(e){this.animation=e,this.setState({running:!e.paused})}},{key:"timeClick",value:function(e){if(this.animation){e.clientX,e.clientY;var t=e.currentTarget.getBoundingClientRect(),a=(e.clientX-t.left)/(t.right-t.left),r=0;if(a>.2&&a<=.45?r=1:a>.45&&a<=.67?r=2:a>.67&&(r=3),this.state.running)switch(r){case 0:this.animation.reverse();break;case 1:this.animation.pauseStart();break;case 2:this.animation.speed(!1);break;case 3:this.animation.speed(!0)}else 1==r&&this.animation.pauseStart();1==r&&this.setState({running:!this.state.running})}}},{key:"optionClick",value:function(){var e=!this.state.showingOptions;if(this.animation)if(e){var t=this.animation.options(this,"optBox");this.setState({options:t,showingOptions:!0})}else this.setState({options:this.empty,showingOptions:!1})}},{key:"render",value:function(){var e=this,t=this.state.running?"runningT.png":"stoppedT.png";return Object(E.jsxs)("div",{className:"glasspane",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("img",{onClick:e.timeClick.bind(e),height:"38",width:"86",id:"speedButtons",src:t}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(E.jsx)("img",{onClick:e.optionClick.bind(e),height:"38",src:"dotsT.png"})]}),Object(E.jsx)("strong",{children:"Time:"}),Object(E.jsx)("span",{id:"timeDisplay"}),this.state.options,Object(E.jsx)("div",{id:"clickTarget"})]})}}]),a}(r.Component),N=a(9),M=function(){function e(t){Object(c.a)(this,e);var a={cameraPos:new p.E(0,0,6),cameraRot:new p.f(0,0,0,"XYZ"),cameraFoV:75,camNear:1e-4,camFar:2e3,sceneElements:{},paused:!1,runOne:!1,counter:0,time:Date.now()/1e3-O.Epoch0,delta:21600,scene:new p.x,name:"Generic",quiet:!1,loading:!1};for(var r in a)this[r]=a[r];if(t)for(var r in t)this[r]=t[r];this.timeID&&(this.timeElem=document.getElementById(this.timeID))}return Object(o.a)(e,[{key:"update",value:function(){this.counter+=1,this.paused||(this.time+=this.delta,this.updateElements())}},{key:"updateElements",value:function(){for(var e in this.sceneElements){var t=this.sceneElements[e].render;t&&t(this.time)}}},{key:"addElement",value:function(e,t){this.sceneElements[e]?d.log("Attempt to duplicate element "+e+" in "+this.name):(this.sceneElements[e]=t,t.component&&(t.component.elementName=e,this.scene.add(t.component)),this.quiet||d.log("Added element #"+Object.keys(this.sceneElements).length+": "+e+" to "+this.name))}},{key:"removeElement",value:function(e){this.sceneElements[e]?(this.scene.remove(this.sceneElements[e].component),this.quiet||d.log("Removed element "+e+" of "+this.name)):d.log("Request to delete non-existent element "+name+" of "+this.name)}},{key:"speed",value:function(e){e?this.delta*=Math.sqrt(2):this.delta/=Math.sqrt(2)}},{key:"reverse",value:function(){this.delta*=-1}},{key:"pauseStart",value:function(){this.paused=!this.paused}},{key:"setTime",value:function(e){this.time=e,this.updateElements()}},{key:"openHelp",value:function(){window.open("help_top.html","help")}},{key:"openParams",value:function(){window.open("?app=params","params")}},{key:"setAnim",value:function(e){var t=Ae.getAnimation(e,{frame:this.frame,timeID:this.timeID});this.frame.setAnimation(t)}},{key:"updateTime",value:function(e){var t=this.parseTime(e);this.setTime(t)}},{key:"parseTime",value:function(e){if(e&&!(e.length<4)){e.indexOf(":")<0&&(e+=" 00:00");var t=Date.parse(e);return t?t/1e3-O.Epoch0:0}}},{key:"addTimeDisplay",value:function(){var e=this;this.addElement("Timer",{name:"tdisp",render:function(t){e.timeElem.innerHTML=e.timeFormatter(t)}})}},{key:"timeFormatter",value:function(e){var t=new Date(864e5*(e/86400+O.JD0-2440587.5)).toISOString();return t.substring(0,t.length-5)}},{key:"options",value:function(){return Object(E.jsx)("div",{children:"No options available"})}},{key:"doLongClick",value:function(e){if(e=e.detail,this.baseAnimation){var t=this.frame.renderer.domElement.getBoundingClientRect(),a=(e.clientX-t.left)/(t.right-t.left),r=(e.clientY-t.top)/(t.bottom-t.top);((a<=.1||a>=.9)&&r<=.1||r>=.9)&&this.setAnim(this.baseAnimation)}}}]),e}();var A=function(e){var t=new XMLHttpRequest;t.open("GET","data/galaxy_all.json",!0),t.onload=function(){var a,r=t.responseText,n=JSON.parse(r);for(a in n)break;e(n[a])},t.onerror=function(){d.log("Called error function when loading stars!")},t.send(null)};function j(e){return null==e?null:(e.length>2&&e.startsWith("sd")&&(e=e.substring(2)),e.length>1&&(e.startsWith("D")||e.startsWith("d"))&&(e=e.substring(1)),e.charAt(0))}var k=function(e){if(Array.isArray(e.x)&&(e.y=e.x[1],e.z=e.x[2],e.x=e.x[0]),null!=e.v&&Array.isArray(e.v)&&(e.u=e.v[0],e.w=e.v[2],e.v=e.v[1]),null==e.v&&(e.u=0,e.v=0,e.w=0),e.size=function(e){var t={M:.15,K:.2,G:.25,F:.3,A:.35,B:.4,O:.45,T:.1,Y:.1,W:.45};if(!e)return.01;var a=1;(e.startsWith("sd")||e.startsWith("d"))&&(a*=.8),e.startsWith("D")&&(a*=.5);var r=j(e),n=.1;return t[r]&&(n=t[r],n*=a,e.indexOf("IV")>0?n*=1.3:e.indexOf("III")?n*=1.5:e.indexOf("II")?n*=1.7:e.indexOf("I")&&(n*=2)),.15*n}(e.spt),e.color=function(e){var t={M:16724736,K:16755302,G:16776960,F:16777130,A:16777215,B:11184895,D:65280,O:255,s:65280,W:255,T:15392202,Y:15392202},a=j(e);return a&&t[a]?t[a]:65535}(e.spt),e.np>0){e.ring={};var t=8913100;2==e.np?t=43775:e.np>2&&(t=65280),e.ring.color=t}},P=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).action=e.action,e.args&&(r.args=e.args),r}return Object(o.a)(a,[{key:"render",value:function(){return Object(E.jsx)("span",{})}},{key:"componentDidMount",value:function(){d.log("In action:"+this.action),d.log("   Args:"+this.args),this.action(this.args)}}]),a}(r.Component),w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),r=t.call(this,e),e.placeholder?r.placeholder=e.placeholder:r.placeholder="Input...",e.callback?r.callback=e.callback:r.callback=null,r.state={value:""},r}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(E.jsx)("input",{size:"16",placeholder:e.placeholder,onKeyUp:function(t){"Enter"===t.key&&e.callback&&e.callback(t.target.value)}})}}]),a}(r.Component),x=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).nullDiv=Object(E.jsx)("div",{}),r.state={options:Object(h.a)(e.options),direct:e.direct,directContent:e.directContent,selection:{value:null,elem:r.nullDiv}},r}return Object(o.a)(a,[{key:"change",value:function(e){var t,a=e.target.value,r=!1;for(t=0;t<this.state.options.length;t+=1)if(this.state.options[t].value===a){r=!0;break}if(r){var n=this.state.options[t];this.setState({selection:n})}}},{key:"render",value:function(){if(this.state.direct)return this.state.directContent;var e=this.state.options.map((function(e){return Object(E.jsx)("option",{children:e.value},e.value)}));return Object(E.jsxs)("div",{children:[Object(E.jsx)("select",{onChange:this.change.bind(this),children:e}),Object(E.jsx)("br",{}),this.state.selection.elem]})}}]),a}(r.Component),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).fromDft=e.fromDft?e.fromDft:"",n.toDft=e.toDft?e.toDft:"",n.fromPlaceholder=e.fromPlaceholder?e.fromPlaceholder:"...from...",n.toPlaceholder=e.toPlaceholder?e.toPlaceholder:"...to...",n.mouseDown=e.mouseDown,n.mouseUp=e.mouseUp,n.contentID=e.contentID?e.contentID:"CnctCntnt",n.fromRef=Object(r.createRef)(),n.toRef=Object(r.createRef)(),n}return Object(o.a)(a,[{key:"mouseDownF",value:function(e){var t=this.fromRef.current.value,a=this.toRef.current.value;t&&t.length>0&&a&&a.length>0&&this.mouseDown&&this.mouseDown(t,a),e.stopPropagation()}},{key:"mouseUpF",value:function(e){this.mouseUp&&this.mouseUp(),e.stopPropagation()}},{key:"render",value:function(){var e=this;this.idPrefix,this.idPrefix,this.idPrefix;return Object(E.jsxs)("div",{children:[Object(E.jsx)("input",{ref:this.fromRef,defaultValue:this.fromDft,size:"12",placeholder:e.fromPlaceholder}),Object(E.jsx)("input",{ref:this.toRef,defaultValue:this.toDft,size:"12",placeholder:e.toPlaceholder}),Object(E.jsx)("button",{onMouseDown:e.mouseDownF.bind(e),onMouseUp:e.mouseUpF.bind(e),children:"Show"}),Object(E.jsx)("br",{}),Object(E.jsx)("div",{id:this.contentID})]})}}]),a}(r.Component),C=function(){function e(t){Object(c.a)(this,e),this.Stars=t,this.simbadCache={}}return Object(o.a)(e,[{key:"getStar",value:function(e,t){var a=e.toLowerCase();if("sun"!=a&&"sol"!=a)this.getFromCatalog(e,t)||this.getFromSimbadCache(e,t)||this.getFromSimbad(e,t);else{t({id:0,name:"Sol",x:0,y:0,z:0,d:0,spt:"G2V",u:0,v:0,w:0,np:9})}}},{key:"getFromCatalog",value:function(e,t){for(var a=0;a<this.Stars.length;a+=1){var r=this.Stars[a];if(e==r.name||e==""+r.id||e=="HIP "+r.id)return t(r),!0}return!1}},{key:"getFromSimbadCache",value:function(e,t){return!!this.simbadCache[e]&&(t(this.simbadCache[e]),!0)}},{key:"getFromSimbad",value:function(e,t){var a=new XMLHttpRequest,r=this,n="https://simbad.u-strasbg.fr/simbad/sim-id?Ident="+encodeURIComponent(e)+"&NbIdent=1&Radius=.02&Radius.unit=arcmin&submit=submit+id&output.format=ascii&obj.bibsel=off";a.open("GET",n),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var n=r.parseSimbad(e,a.responseText);r.simbadCache[e]=n,t(n)}},a.send()}},{key:"parseSimbad",value:function(e,t){var a=t.split("\n"),r=function(e,t){var a=e.split(/\s+/);return a.length>t?a[t]:null},n={};n.name=e;for(var i=!1,s=0;s<a.length;s+=1){var c=a[s];if(i){if(this.setHIP_ID(c,n))break}else c.startsWith("Coordinates(Gal")?(n.l=r(c,1),n.b=r(c,2)):c.startsWith("Parallax:")?n.d=1e3/Number.parseInt(r(c,1)):c.startsWith("Proper motions:")?(n.pmr=r(c,2),n.pmd=r(c,3)):c.startsWith("Radial Velocity:")?n.rv=r(c,2):c.startsWith("Spectral type:")?n.spt=r(c,2):c.startsWith("Identifier")&&(i=!0)}if(n.l&&n.b&&n.d){var o=Math.PI*n.l/180,l=Math.PI*n.b/180,u=n.d;n.x=u*Math.cos(o)*Math.cos(l),n.y=u*Math.sin(o)*Math.cos(l),n.z=u*Math.sin(l)}if(n.id)for(s=0;s<this.Stars.length;s+=1)if(this.Stars[s].id==n.id)return this.Stars[s];return n.id||n.x?n:null}},{key:"setHIP_ID",value:function(e,t){for(var a=2;a<e.length;a+=32)if(a+30<=e.length){var r=e.substring(a,a+30).trim();if(r.startsWith("HIP "))return t.id=r.substring(4),!0}return!1}}]),e}(),S=function(){function e(t){Object(c.a)(this,e),this.starFinder=t}return Object(o.a)(e,[{key:"connect",value:function(e,t,a){var r=this;r.starFinder.getStar(e,(function(e){null!=e?r.starFinder.getStar(t,(function(t){a(e,t)})):a(null,null)}))}}]),e}(),R=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;for(var n in Object(c.a)(this,a),(r=t.call(this,e)).fields={timeID:"timeDisp",name:"Local Galactic Neighborhood",delta:O.CENTURY/20,time:0,baseAnimation:"Solar System",longClickTime:1500,paused:!0},r.fields)r[n]=r.fields[n];for(var n in e)r[n]=e[n];return r.timeID&&(r.timeElem=document.getElementById(r.timeID),r.timeElem.innerHTML=r.timeFormatter(r.time)),r.scene=new p.x,r.starFinder=null,r.savedLine=null,r.loading=!0,d.log("Loading stars..."),A(r.finishConstruction.bind(Object(N.a)(r))),r}return Object(o.a)(a,[{key:"finishConstruction",value:function(e){d.log("Stars loaded:"+e.length),this.starData=e;for(var t=[],a=0;a<e.length;a+=1){var r=e[a];k(r),r.ring&&t.push(a)}for(var n=new p.o({wireframe:!1}),i=new p.z(1,20,20),s=new p.w(1.1,1.4,20),c=new p.i(i,n,e.length),o=0;o<e.length;o+=1){var l=e[o],u=(new p.m).makeScale(l.size,l.size,l.size);u.setPosition(l.x,l.y,l.z),c.setMatrixAt(o,u),c.setColorAt(o,new p.c(l.color))}for(var m=new p.i(s,n,t.length),h=0;h<t.length;h+=1){var f=t[h],g=e[f],v=(new p.m).makeScale(g.size,g.size,g.size);v.setPosition(g.x,g.y,g.z),m.setMatrixAt(h,v),m.setColorAt(h,new p.c(g.ring.color))}c.instanceColor.needsUpdate=!0,m.instanceColor.needsUpdate=!0,this.ringIndices=t,c.getIndexedName=function(e){this.starData[e];return this.starData[e].name}.bind(this),m.getIndexedName=function(e){return this.starData[this.ringIndices[e]].name}.bind(this),this.addElement("AllStars",{name:"AllStars",component:c,render:function(t){for(var a=t/30856e9,r=new p.m,n=0;n<e.length;n+=1){c.getMatrixAt(n,r);var i=e[n];r=r.setPosition(i.x+a*i.u,i.y+a*i.v,i.z+a*i.w),c.setMatrixAt(n,r)}c.instanceMatrix.needsUpdate=!0}}),this.addElement("AllRings",{name:"AllRings",component:m,render:function(a){for(var r=a/30856e9,n=new p.m,i=0;i<t.length;i+=1){m.getMatrixAt(i,n);var s=t[i],c=e[s];n=n.setPosition(c.x+r*c.u,c.y+r*c.v,c.z+r*c.w),m.setMatrixAt(i,n)}m.instanceMatrix.needsUpdate=!0}}),this.loading=!1,this.addTimeDisplay(),d.log("Local Galactic Neighborhood:"),d.log("   Number of stars rendered:"+e.length),d.log("   Number of planetary systems:"+t.length)}},{key:"timeFormatter",value:function(e){var t=Math.floor((100*e/O.CENTURY+2e3).toFixed(0));return t>0?t+" AD":(t=-(t-=1))+" BC"}},{key:"options",value:function(){for(var e=["Local Galactic Neighborhood","Set year","Connect stars","The Earth and environs","Solar System","Nearby Galaxies (TBD)","Help"],t=[],a=0;a<e.length;a+=1){var r={},n=e[a];r.value=e[a];var i="ka"+a;switch(n){case"Set year":r.elem=Object(E.jsx)(w,{placeholder:"...year...",callback:this.updateTime.bind(this)},i);break;case"Connect stars":r.elem=Object(E.jsx)(T,{fromDft:"Sol",contentID:"StarInfo",mouseDown:this.drawLine.bind(this),mouseUp:this.hideLine.bind(this)},i);break;case"Solar System":r.elem=Object(E.jsx)(P,{args:"Solar System",action:this.setAnim.bind(this)},i);break;case"The Earth and environs":r.elem=Object(E.jsx)(P,{args:"The Earth and environs",action:this.setAnim.bind(this)},i);break;case"Help":r.elem=Object(E.jsx)(P,{action:this.openHelp},i);break;default:r.elem=Object(E.jsxs)("div",{children:["Just the ",n]},i)}t.push(r)}return Object(E.jsx)(x,{options:t})}},{key:"raycastResult",value:function(e){var t,a,r=document.getElementById("clickTarget"),n=!1;for(t in e){a="<hr/>Star: "+t,n=!0;break}if(n){this.starFinder||(this.starFinder=new C(this.starData));var i=this;this.starFinder.getStar(t,(function(e){if(null!=e){e.spt&&(a+="<br/>Spectral type: "+e.spt),e.id&&(a+="<br>ID: "+e.id);var t=i.position(e,i.time).length(),n=t.toFixed(3),s=(3.26156*t).toFixed(3);a+="<br>Distance: "+n+" pc / "+s+" ly",e.np&&(a+="<br>Known planets: "+e.np),r.innerHTML=a}}))}else r.innerHTML="<hr/>"}},{key:"drawLine",value:function(e,t){this.starFinder||(this.starFinder=new C(this.starData)),this.connecter||(this.connecter=new S(this.starFinder)),this.connecter.connect(e,t,this.lineDrawer.bind(this))}},{key:"starMessage",value:function(e){document.getElementById("StarInfo").innerHTML=e}},{key:"position",value:function(e,t){var a,r=t/30856e9;return a=null==e.u||null==e.v||null==e.w?[0,0,0]:[r*e.u,r*e.v,r*e.w],new p.E(e.x+a[0],e.y+a[1],e.z+a[2])}},{key:"hideLine",value:function(){this.savedLine&&(this.scene.remove(this.savedLine),this.savedLine=null)}},{key:"lineDrawer",value:function(e,t){if(!e)return this.starMessage("Unable to find source star"),void this.hideLine();if(!t)return this.starMessage("Unable to find destination star"),void this.hideLine();var a=this.position(e,this.time),r=this.position(t,this.time),n=[a,r],i=new p.k({color:255}),s=(new p.b).setFromPoints(n),c=new p.j(s,i);this.savedLine&&this.scene.remove(this.savedLine),this.scene.add(c),this.savedLine=c;var o=e.np?e.np:"?",l=t.np?t.np:"?",u=e.id?e.id:"?",m=t.id?t.id:"?",h=e.spt?e.spt:"?",f=t.spt?t.spt:"?",d="<table><tr><th></th><th align='center'>ID</th><th align='center'>Name</th><th align='center'>Spectral Type</th><th align='center'>Planets</th></tr>";d+="<tr><th align='left'>From</th><td align='center'>"+u+"</td><td align='center'>"+e.name+"</td><td align='center'>"+h+"</td><td align='center'>"+o+"</td></tr>",d+="<tr><th align='left'>To</th><td align='center'>"+m+"</td><td align='center'>"+t.name+"</td><td align='center'>"+f+"</td><td align='center'>"+l+"</td></tr>",d+="</table>Distance: ";var g=a.distanceTo(r);d+=g.toFixed(3)+" pc / ",d+=(3.26156*g).toFixed(3)+" ly",this.starMessage(d)}},{key:"parseTime",value:function(e){return isNaN(e)?0:(e-2e3)/100*O.CENTURY}}]),a}(M),I=a(7),z=a(6),L=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"getElements",value:function(t,a){e.bases||e.initialize();var r=a/O.CENTURY,n={},i=e.bases[t];n.a=(i.elems[0]+r*i.derivs[0])*O.AU,n.Eccen=i.elems[1]+r*i.derivs[1],n.i=d.toRadians(i.elems[2]+r*i.derivs[2]);var s=i.elems[3]+r*i.derivs[3],c=d.toRadians(i.elems[4]+r*i.derivs[4]);return n.Omega=d.toRadians(i.elems[5]+r*i.derivs[5]),n.Per=360/i.derivs[3]*O.CENTURY,n.nu=c-n.Omega,null!=i.corrections&&(s+=i.corrections[0]*r*r+i.corrections[1]*Math.cos(i.corrections[3]*r)+i.corrections[2]*Math.sin(i.corrections[3]*r)),s=(s=d.toRadians(s))-n.Omega-n.nu,n.t0=a-s/(2*Math.PI),{elements:n,mass:i.mass,diameter:i.diameter,ringAngle:i.ringAngle,color:i.color,ringColor:i.ringColor}}},{key:"add",value:function(t,a,r,n,i,s,c,o,l){var u={};u.elems=a,u.derivs=r,u.mass=i,u.diameter=s,u.color=c,u.ringAngle=o,u.ringColor=l,n&&(u.corrections=n),e.bases[t]=u}},{key:"initialize",value:function(){e.bases={},e.add("Mercury",[.38709843,.20563661,7.00559432,252.25166724,77.45771895,48.33961819],[0,2123e-8,-.00590158,149472.67486623,.15940013,-.12214182],null,33e22,4879,11184895,null),e.add("Venus",[.72332102,.00676399,3.39777545,181.9797085,131.76755713,76.67261496],[-26e-8,-5107e-8,43494e-8,58517.8156026,.05679648,-.27274174],null,487e22,12104,16777215,null),e.add("EM Bary",[1.00000018,.01673163,-54346e-8,100.46691572,102.93005885,-5.11260389],[-3e-8,-3661e-8,-.01337178,35999.37306329,.3179526,-.24123856],null,597e22,12756,255,null),e.add("Mars",[1.52371243,.09336511,1.85181869,-4.56813164,-23.91744784,49.71320984],[97e-8,9149e-8,-.00724757,19140.29934243,.45223625,-.26852431],null,642e21,6792,16711680,null),e.add("Jupiter",[5.20248019,.0485359,1.29861416,34.33479152,14.27495244,100.29282654],[-2864e-8,18026e-8,-.00322699,3034.90371757,.18199196,.13024619],[-12452e-8,.0606406,-.35635438,38.35125],1898e24,142984,65280,null),e.add("Saturn",[9.54149883,.05550825,2.49424102,50.07571329,92.86136063,113.63998702],[-3065e-8,-32044e-8,.00451969,1222.11494724,.54179478,-.25015002],[25899e-8,-.13434469,.87320147,38.35125],568e24,120536,11206570,26.7,16776960),e.add("Uranus",[19.18797948,.0468574,.77298127,314.20276625,172.43404441,73.96250215],[-20455e-8,-155e-7,-.00180155,428.49512595,.09266985,.05739699],[58331e-8,-.97731848,.17689245,7.67025],868e23,51118,11206655,null),e.add("Neptune",[30.06952752,.00895439,1.7700552,304.22289287,46.68158724,131.78635853],[6447e-8,818e-8,224e-6,218.46515314,.01009938,-.00606302],[-41348e-8,.68346318,-.10162547,7.67025],102e24,49528,65535,null),e.add("Pluto",[39.48686035,.24885238,17.1410426,238.96535011,224.09702598,110.30167986],[.00449751,6016e-8,501e-8,145.18042903,-.00968827,-.00809981],[-.01262724,0,0,0],146e20,2370,16777215,null),e.bases.Earth=e.bases["EM Bary"]}}]),e}();L.bases=null;var U=L,D=function(){function e(t,a,r,n,i,s){Object(c.a)(this,e),this.name=t,this.dim=r,this.varies=n,this.value=a,this.renderer=i,this.unit=s}return Object(o.a)(e,[{key:"render",value:function(){return this.renderer?this.renderer(this.value,this.unit):this.value}},{key:"rerender",value:function(){var e=G.getParamInfo(this.name).units;if(e){var t;for(t=0;t<e.length&&!(this.unit&&e[t].unit===this.unit.unit||!this.unit&&1===e[t].scale);t+=1);if(!(t>e.length))return t=(t+1)%e.length,this.unit=e[t],this.render();d.log("Unit not found in rerender: "+this.name+" "+this.unit.unit)}else d.log("No units for parameter")}},{key:"setUnit",value:function(e){this.unit=e}},{key:"getDim",value:function(e){return this.dim}},{key:"getName",value:function(){return this.name}},{key:"getType",value:function(){return this.dim}},{key:"getScalar",value:function(){switch(this.dim){case e.SCALAR:return this.value;case e.VECTOR:return d.mag(this.value);case e.MATRIX:return d.determinant3(this.value);default:throw new Error("Unsupported dimensionality "+this.dim+" for "+this.name)}}},{key:"getVector",value:function(){if(this.dim===e.VECTOR||this.dim===e.BLOB)return this.value;throw new Error("Vector request for non-vector parameter "+this.name)}},{key:"getMatrix",value:function(){if(this.dim===e.MATRIX)return this.value;throw new Error("Matrix request for non-matrix parameter "+this.name)}},{key:"isScalar",value:function(){return this.dim===e.SCALAR}},{key:"isVector",value:function(){return this.dim===e.VECTOR}},{key:"isMatrix",value:function(){return this.dim===e.MATRIX}}]),e}();D.SCALAR=0,D.VECTOR=1,D.MATRIX=2,D.BLOB=3;var Y=D,_=function(e,t){if(t<0)throw new Error("Illegal argument to kepler:"+e+" "+t);function a(e,t){return t>1?t*Math.sinh(e)-e:e-t*Math.sin(e)}function r(e,t){return t>1?t*Math.cosh(e)-1:1-t*Math.cos(e)}if(t<1&&(e<0||e>2*Math.PI)&&(e%=2*Math.PI)<0&&(e+=2*Math.PI),t<O.SHAPE_RATIO)return e;var n,i,s=e;t<1?(n=0,e>Math.PI&&(n=Math.PI),i=n+Math.PI):(e<=0?(n=-1e10,i=0):(n=0,i=1e10),Math.abs(e)>2*Math.PI&&(s=Math.asinh(e/t))),s>i&&(s=i),s<n&&(s=n);for(var c=a(s,t),o=(r(s,t),0);;){if((o+=1)>1e3)return d.log("EA calculation: Too many iterations:"+t+" "+e),null;var l=e-c;if(Math.abs(l)<O.HALT_RATIO)return s;l>0?n=s:i=s;for(var u,m,h=l/r(s,t),f=!1,p=0;;){if((p+=1)>100)return null;(m=s+h)>i?m=i:m<n&&(m=n);var g=e-(u=a(s+h,t));if(Math.abs(g/l)<.5)break;if(Math.abs(g/l)>1)h/=2,f=!0;else{if(f)break;var v=a(s+2*h,t);if(!(Math.abs(v-e)<Math.abs(u-e)))break;h*=2}}s=m,c=u}},q=function(){var e=G.addGenerator,t=G.genParam;null==G.generators&&(G.generators={},e("a",["G","M","E"],(function(e){var a=e.G.value,r=e.M.value,n=e.E.value;return 0===n?(d.log("Parabolic orbit, a is undefined from E"),t("a",Math.NaN)):t("a",-.5*a*r/n)})),e("a",["G","M","m1","Per"],(function(e){var a=e.G.value,r=e.Per.value,n=e.M.value,i=e.m1.value,s=Math.cbrt(a*(n+i)*r*r/(4*Math.PI*Math.PI));return t("a",s)})),e("b",["Ecc","a"],(function(e){var a=d.mag(e.Ecc.value),r=e.a.value,n=1;return a>1&&(n=-1),t("b",r*Math.sqrt(n*(1-a*a)))})),e("C",["a","Ecc"],(function(e){var a=e.Ecc.value,r=d.mag(a),n=e.a.value;if(r<1e-12)return t("C",[0,0,0]);if(Math.abs(r-1)<1e-12)return d.log("Center not defined for parabola"),null;var i=d.times(-n,a);return t("C",i)})),e("E",["G","M","r","v"],(function(e){var a=e.v.getScalar(),r=e.r.getScalar(),n=e.G.value,i=e.M.value;return t("E",a*a/2-n*i/r)})),e("E",["G","M","a"],(function(e){var a=e.G.value,r=e.M.value,n=e.a.value;return t("E",-.5*a*r/n)})),e("EA",["TA","Ecc"],(function(e){var a=e.Ecc.getScalar(),r=e.TA.value,n=1;a>1&&(n=-1);var i=Math.sqrt(n*(1-a)/(1+a))*Math.tan(r/2);return a<1?(i=2*Math.atan(i),r>Math.PI&&i<Math.PI&&(i=2*Math.PI-i)):i=2*Math.atanh(i),t("EA",i)})),e("EA",["MA","Ecc"],(function(e){var a=e.MA.value,r=e.Ecc.getScalar(),n=_(a,r);return null==n?null:t("EA",n)})),e("Ecc",["G","M","r","v"],(function(e){var a=e.r.value,r=e.v.value,n=d.mag(a),i=e.G.value,s=e.M.value,c=d.times(1/(i*s),d.cross(r,d.cross(a,r))),o=d.times(-1/n,a);return t("Ecc",d.vadd(c,o))})),e("Ecc",["Eccen","Rot","nu"],(function(e){var a=e.Eccen.getScalar(),r=e.Rot.value,n=r[5],i=a*Math.cos(n),s=a*Math.sin(n),c=[r[0]*i+r[1]*s,r[2]*i+r[3]*s,r[4]*s];return t("Ecc",c)})),e("Eccen",["Ecc"],(function(e){return t("Eccen",e.Ecc.getScalar())})),e("eF2",["Ecc","E","a"],(function(e){var a=e.Ecc.value,r=e.E.value,n=e.a.value,i=d.times(-2*n*r,a);return t("eF2",i)})),e("G",{},(function(e){return t("G",O.G)})),e("i",["L"],(function(e){var a=e.L.value;if(0===d.mag(a))return d.log("Radial orbit so computation of inclination from angular momentum fails."),null;var r=d.dot(a,[0,0,1])/d.mag(a);return t("i",Math.acos(r))})),e("i",["r","v"],(function(e){var a=e.r.value,r=d.mag(a),n=e.v.value,i=d.mag(n),s=d.cross(a,n);if(d.mag(s)>O.SHAPE_RATIO*r*i){var c=d.dot(s,[0,0,1])/d.mag(s);return t("i",Math.acos(c))}if(0===r&&(a=n,r=i),0===r)return d.log("Inclination undefined: Singular orbit, stationary at origin"),null;var o=d.dot(a,[0,0,1])/r;return o=Math.abs(o),t("i",Math.PI/2-Math.acos(o))})),e("L",["r","v"],(function(e){var a=e.r.value,r=e.v.value,n=d.cross(a,r);return t("L",n)})),e("L",["G","M","Eccen","E","Rot"],(function(e){var a=e.E.value,r=e.Rot.value,n=e.Eccen.value,i=e.G.value*e.M.value*Math.sqrt((n*n-1)/(2*a)),s=[i*r[2]*r[4],-i*r[0]*r[4],i*r[3]/r[0]];return t("L",s)})),e("LonP",["Omega","nu"],(function(e){var a=e.nu.value,r=e.Omega.value;return t("LonP",a+r)})),e("M",[],(function(e){return t("M",O.MSun)})),e("m1",[],(function(e){return t("m1",0)})),e("MA",["t","t0","Per"],(function(e){var a=e.Per.value;if(a===Number.POSITIVE_INFINITY)return null;var r=(e.t.value-e.t0.value)/a;return r-=Math.floor(r),r*=2*Math.PI,t("MA",r)})),e("MA",["EA","Ecc"],(function(e){var a,r=e.Ecc.getScalar(),n=e.EA.value;return r<O.SHAPE_RATIO?t("MA",n):(a=r<1?n-r*Math.sin(n):r*Math.sinh(n)-n,t("MA",a))})),e("MA",["t","t0","G","M","a"],(function(e){var a=e.t.value,r=e.t0.value,n=e.G.value,i=e.M.value,s=Math.abs(e.a.value),c=Math.sqrt(n*i/(s*s*s))*(a-r);return t("MA",c)})),e("MA",["MLon","Omega","nu"],(function(e){var a=e.MLon.value,r=e.Omega.value,n=e.nu.value;return t("MA",a-r-n)})),e("MLon",["MA","Omega","nu"],(function(e){var a=e.MA.value,r=e.nu.value,n=e.Omega.value;return t("MLon",a+r+n)})),e("N0",["Per"],(function(e){return t("N0",86400/e.Per.value)})),e("nu",["Ecc","Pnode","L"],(function(e){var a=e.Pnode.value,r=e.Ecc.value,n=e.L.value;if(0===d.mag(a)||0===d.mag(r))return d.log("Circular orbit or in plane so  argument of periapsis not defined. using 0"),t("nu",0);var i=d.dot(a,r)/d.mag(a)/d.mag(r),s=Math.acos(i),c=d.cross(a,r);return d.dot(c,n)<0&&(s=2*Math.PI-s),t("nu",s)})),e("nu",["LonP","Omega"],(function(e){var a=e.LonP.value,r=e.Omega.value;return t("nu",a-r)})),e("Omega",["Pnode"],(function(e){var a=e.Pnode.value,r=(a=d.times(1/d.mag(a),a))[0],n=a[1],i=0;return Math.abs(r)>O.PLANAR_RATIO||Math.abs(n)>=O.PLANAR_RATIO?(i=Math.atan2(n,r),t("Omega",i)):null})),e("Per",["a","b","L"],(function(e){var a=e.a.value;if(a<=0)return t("Per",Number.POSITIVE_INFINITY);var r=e.b.value,n=e.L.getScalar();return a*r===0||0===n?(d.log("Cannot calculate period for radial orbit"),null):t("Per",2*Math.PI*a*r/n)})),e("Per",["N0"],(function(e){return t("Per",86400/e.N0.value)})),e("Per",["a","G","M","m1"],(function(e){var a=e.a.value;if(a<=0)return t("Per",Number.POSITIVE_INFINITY);var r=e.G.value,n=e.M.value,i=e.m1.value;return t("Per",2*Math.PI/Math.sqrt(r*(n+i))*Math.pow(a,1.5))})),e("Pnode",["L"],(function(e){var a=e.L.value,r=d.mag(a),n=d.cross([0,0,1],a),i=d.mag(n);return i/r<O.PLANAR_RATIO?null:t("Pnode",d.times(1/i,n))})),e("Pnode",["L","Ecc"],(function(e){var a=e.Ecc.value,r=d.mag(a),n=a[0],i=a[1];return r<O.SHAPE_RATIO||Math.abs(n)<O.SHAPE_RATIO&&Math.abs(i)<O.SHAPE_RATIO?t("Pnode",[1,0,0]):t("Pnode",d.times(1/r,a))})),e("r",["Rot","Ecc","a","TA"],(function(e){var a=e.Rot.value,r=e.Ecc.getScalar(),n=e.a.value,i=e.TA.value,s=n*Math.abs(1-r*r)/(1+r*Math.cos(i)),c=a[5],o=s*Math.cos(i+c),l=s*Math.sin(i+c),u=[a[0]*o+a[1]*l,a[2]*o+a[3]*l,a[4]*l];return t("r",u)})),e("Rot",["Omega","i","nu"],(function(e){var a=e.Omega.value,r=Math.cos(a),n=Math.sin(a),i=e.i.value,s=Math.cos(i),c=Math.sin(i),o=e.nu.value;return t("Rot",[r,-n*s,n,r*s,c,o])})),e("t",["t0","MA","Per"],(function(e){var a=e.Per.value;if(a===Number.POSITIVE_INFINITY)return null;var r=e.t0.value-e.MA.value/(2*Math.PI)*a;return t("t",r)})),e("t",["t0","MA","Per","a","G","M"],(function(e){var a=e.t0.value,r=e.MA.value,n=Math.abs(e.a.value),i=e.G.value,s=e.M.value,c=r*Math.sqrt(n*n*n/(i*s));return t("t",a+c)})),e("t0",["t","MA","Per"],(function(e){var a=e.Per.value;if(a===Number.POSITIVE_INFINITY)return null;var r=e.t.value-e.MA.value/(2*Math.PI)*a;return t("t0",r)})),e("t0",["t","MA","Per","a","G","M"],(function(e){var a=e.t.value,r=e.MA.value,n=Math.abs(e.a.value),i=e.G.value,s=e.M.value,c=r*Math.sqrt(n*n*n/(i*s));return t("t0",a-c)})),e("TA",["EA","Ecc"],(function(e){var a,r=e.Ecc.getScalar(),n=e.EA.value;a=r>1?Math.tanh(n/2):Math.tan(n/2);var i=Math.sqrt((1+r)/(1-r))*a;return i=2*Math.atan(i),r<1&&i<0&&(i+=2*Math.PI),t("TA",i)})),e("TA",["r","Ecc","L"],(function(e){var a=e.r.value,r=e.Ecc.value,n=e.L.value,i=d.dot(a,r)/(d.mag(a)*d.mag(r)),s=d.cross(r,a),c=Math.acos(i);return d.dot(s,n)<0&&(c=2*Math.PI/c),t("TA",c)})),e("v",["L","Rot","r","a","Ecc","TA"],(function(e){var a=e.L.getScalar(),r=e.r.value,n=d.mag(r),i=e.Ecc.getScalar(),s=e.a.value,c=e.Rot.value,o=e.TA.value,l=s*(1-i*i),u=c[5],m=Math.sin(o),h=Math.cos(u+o),f=Math.sin(u+o),p=d.times(a*i*m/(n*l),r),g=a/n,v=[-g*(c[0]*f-c[1]*h),-g*(c[2]*f-c[3]*h),g*c[4]*h],O=d.vadd(p,v);return t("v",O)})))},F=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"addParam",value:function(t,a,r,n,i){if(null!=e.caseConv[t.toLowerCase()])throw new Error("Redundant defintion for parameter name:"+t);e.legalParameters[t]={name:t,dim:a,varies:r,descrip:n,units:i},e.caseConv[t.toLowerCase()]=t,r?this.variables.push(t):this.constants.push(t)}},{key:"getParamInfo",value:function(t){return e.legalParameters[e.fiducial(t)]}},{key:"getVariables",value:function(){var t=[];for(var a in Object.keys(e.legalParameters)){e.legalParameters[a].varies&&t.push(a)}return t}},{key:"fiducial",value:function(t){return e.caseConv[t.toLowerCase()]}},{key:"checkName",value:function(t,a){var r=e.getParamInfo(t);return null!=r&&r.dim===a}},{key:"getNames",value:function(){return Object.keys(e.legalParameters)}},{key:"findGenerator",value:function(t,a){var r=e.generators[t];if(null==r||0===r.length)return null;for(var n=0;n<r.length;n+=1){for(var i=r[n],s=i.reqs,c=!0,o=0;o<s.length;o+=1){if(!a[s[o]]){c=!1;break}}if(c)return i}return null}},{key:"deriveParameter",value:function(t,a){var r=e.fiducial(t);if(null==r)throw new Error("Attempt to create invalid parameter: "+t);null==e.generators&&(e.generators={},q());var n=e.generators[r];if(null==n||0===n.length)return null;for(var i=null,s=0;s<n.length;s+=1){for(var c=n[s],o=c.reqs,l=!0,u=0;u<o.length;u+=1){if(!a[o[u]]){l=!1;break}}if(l&&null!=(i=c.generate(a)))break}return i}},{key:"addGenerator",value:function(t,a,r){if(null==t||null==a||null==r)throw new Error("Invalid generator, null element");var n=e.fiducial(t);if(null==n)throw new Error("Adding generator for unknown parameter");var i=e.generators,s=i[n];null==s&&(s=[],i[n]=s),s.push({reqs:a,generate:r})}},{key:"genParam",value:function(t,a,r){var n=e.getParamInfo(t);return null==n&&d.log("Attempt to generate invalid parameter:"+t),new Y(t,a,n.dim,n.varies,e.baseRender,r)}}]),e}();F.legalParameters={},F.caseConv={},F.generators=null,F.constants=[],F.variables=[],F.baseRender=function(e,t,a){var r,n=4,i=1e10;if(a&&(n=0,i=1e6),Array.isArray(e)){r="[ ";for(var s=0;s<e.length;s+=1)r+=F.baseRender(e[s],t,!0)+"  ";r+=" ] "}else{t&&(e/=t.scale,t.offset&&(e+=t.offset));var c=Math.abs(e);r=0!==c&&(c<.001||c>i)?e.toExponential(5+n):e.toPrecision(6+n)}return t&&!a&&(r+=" "+t.unit),r};var G=F;F.addParam("a",Y.SCALAR,!1,"Semimajor axis",O.radUnits),F.addParam("b",Y.SCALAR,!1,"Semiminor axis",O.radUnits),F.addParam("C",Y.VECTOR,!1,"The center of the ellipse",O.radUnits),F.addParam("E",Y.SCALAR,!1,"The energy of the orbit"),F.addParam("Ecc",Y.VECTOR,!1,"The eccentricity vector"),F.addParam("Eccen",Y.SCALAR,!1,"The eccentricity scalar"),F.addParam("eF2",Y.VECTOR,!1,"The energy-scaled position vector of the second focus"),F.addParam("G",Y.SCALAR,!1,"The gravitational constant (defaults to MKS)"),F.addParam("i",Y.SCALAR,!1,"The inclination of the orbit",O.angUnits),F.addParam("L",Y.VECTOR,!1,"The angular momentum of the orbit"),F.addParam("LonP",Y.SCALAR,!1,"The longitude of periapsis",O.angUnits),F.addParam("M",Y.SCALAR,!1,"Mass of the central body (defaults to Ms)",O.massUnits),F.addParam("m1",Y.SCALAR,!1,"Mass of the orbiting body (defaults to 0)",O.massUnits),F.addParam("N0",Y.SCALAR,!1,"Orbits per day"),F.addParam("nu",Y.SCALAR,!1,"Argument of periapsis",O.angUnits),F.addParam("Omega",Y.SCALAR,!1,"The longitude of the ascending node",O.angUnits),F.addParam("Per",Y.SCALAR,!1,"The period of the orbit",O.intervUnits),F.addParam("Pnode",Y.VECTOR,!1,"The vector pointing the the ascending node"),F.addParam("Rot",Y.BLOB,!1,"Packaged rotation information"),F.addParam("t0",Y.SCALAR,!1,"The reference time for the orbit",O.timeUnits),F.addParam("EA",Y.SCALAR,!0,"The eccentric anomaly",O.angUnits),F.addParam("MA",Y.SCALAR,!0,"The mean anomaly",O.angUnits),F.addParam("MLon",Y.SCALAR,!0,"The mean longitude",O.angUnits),F.addParam("r",Y.VECTOR,!0,"Position of the object",O.radUnits),F.addParam("t",Y.SCALAR,!0,"The current time",O.timeUnits),F.addParam("TA",Y.SCALAR,!0,"The true anomaly",O.angUnits),F.addParam("v",Y.VECTOR,!0,"Velocity of the object",O.velUnits),F.generators||q();var H=function(){function e(t){Object(c.a)(this,e),this.scale=1,this.doLog=!1,this.lastT=1e50,this.lastTA=1e50,this.rot=t.rot,this.e=t.e,this.a=t.a,this.t0=t.t0,this.per=t.per,this.coords=null,this.precession=!1,this.precessData=null,this.e<1&&(this.Lm=2*Math.PI*this.a*this.a*Math.sqrt(1-this.e*this.e)/this.per)}return Object(o.a)(e,[{key:"addPrecession",value:function(e,t,a){this.precession=!0,this.ep0=e,this.fOmega=t,this.fNu=a}},{key:"addCoords",value:function(e){this.coords=e}},{key:"getRot",value:function(e){if(!this.precession||null==e)return this.rot;var t=e-this.ep0,a=this.fOmega*t,r=this.fNu*t,n=Object(h.a)(this.rot);n[5]+=r;var i=Math.cos(a),s=Math.sin(a),c=n[2]*i+s*n[0],o=n[0]*i-n[2]*s;return n[1]*=c/n[2],n[3]*=o/n[0],n[0]=o,n[2]=c,n}},{key:"position",value:function(e){var t=this.ta(e),a=this.posTA(t,e);return this.coords&&(a=this.coords.vTransform(a)),a}},{key:"state",value:function(e){var t=this.ta(e),a=this.posTA(t,e),r=d.times(1/this.scale,a),n=d.mag(r),i=Math.sin(t),s=this.a*(1-this.e*this.e),c=this.getRot(e),o=c[5],l=Math.cos(o+t),u=Math.sin(o+t),m=d.times(this.Lm*this.e*i/(n*s),r),h=this.Lm/n,f=[-h*(c[0]*u-c[1]*l),-h*(c[2]*u-c[3]*l),h*c[4]*l],p=d.vadd(m,f);return this.coords&&(r=this.coords.vTransform(r),p=this.coords.vTransform(p)),[r,p]}},{key:"ta",value:function(e){var t,a=this.e;t=(e-this.t0)/this.per*2*Math.PI,a<1&&(t%=2*Math.PI);var r=_(t,a),n=Math.sqrt((1+a)/Math.abs(1-a))*Math.tan(r/2);return 2*Math.atan(n)}},{key:"posTA",value:function(e,t){var a=this.e,r=this.a*Math.abs(1-a*a)/(1+a*Math.cos(e))*this.scale,n=this.getRot(t),i=n[5],s=r*Math.cos(i+e),c=r*Math.sin(i+e);return[n[0]*s+n[1]*c,n[2]*s+n[3]*c,n[4]*c]}},{key:"orbitXYZ",value:function(e){var t=0,a=2*Math.PI;this.e>1&&(a=Math.acos(-1/this.e),t=-(a-=2*a/e/2));for(var r=t,n=[],i=(a-t)/e,s=0;s<e;s+=1){var c=this.posTA(r);n.push(c),r+=i}return n}},{key:"xperiod",value:function(){return this.e<1?this.per*(1-this.e):this.per}}]),e}(),B=function(){function e(t){Object(c.a)(this,e),this.name=t,this.parameters={}}return Object(o.a)(e,[{key:"getOrbitName",value:function(){return this.name}},{key:"setOrbitName",value:function(e){this.name=e}},{key:"clear",value:function(){this.parameters={}}},{key:"clearParameters",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(t&&t[0]){t=t[0];for(var r=0;r<t.length;r+=1)delete this.parameters[t[r]]}}},{key:"variables",value:function(){return this.conOrVar(!0)}},{key:"constants",value:function(){return this.conOrVar(!1)}},{key:"conOrVar",value:function(e){var t=Object.keys(this.parameters),a=[],r=this.parameters;return t.forEach((function(t){r[t].varies===e&&a.push(t)})),a}},{key:"update",value:function(e,t){this.parameters[e]&&this.parameters[e].varies&&(this.parameters[e].value=t)}},{key:"addParameter",value:function(e){var t=e.getName();this.parameters[t]&&d.log("Replacing existing parameter:"+t),this.parameters[t]=e}},{key:"addStructure",value:function(e){for(var t in e)this.addParameter(G.genParam(t,e[t]))}},{key:"getParameter",value:function(e,t){if(this.parameters[e])return this.parameters[e];if(null==G.getParamInfo(e))return d.log("Attempt to retrieve illegal parameter:"+e),null;for(var a=!0;a;){if(this.parameters[e])return this.parameters[e];var r=this.newComputable(e);if(null!=r)return this.parameters[e]=r,r;if(!t)return null;a=!1;for(var n=G.getNames(),i=0;i<n.length;i+=1){var s=n[i];null!=(r=this.newComputable(s))&&(a=!0,this.parameters[s]=r)}}var c=Object.keys(this.parameters).sort();return"MA"==e&&d.log("Unable to find antecedents to parameter:"+e+" with known parameters:"+c),null}},{key:"newComputable",value:function(e){return this.parameters[e]?null:G.deriveParameter(e,this.parameters)}},{key:"copy",value:function(){var t=new e(this.name);for(var a in this.parameters)t.parameters[a]=G.genParam(a,this.parameters[a].value);return t}},{key:"quickOrbit",value:function(){if(this.parameters.Rot&&this.parameters.Ecc&&this.parameters.a&&this.parameters.Per){var e={rot:this.parameters.Rot.value,e:this.parameters.Ecc.getScalar(),per:this.parameters.Per.value,a:this.parameters.a.value};if(this.parameters.t0&&(e.t0=this.parameters.t0.value),e.e<1){if(!this.parameters.Per)return d.log("No period given for elliptic orbit"),null;e.per=this.parameters.Per.value}else{var t=e.a,a=this.getParameter("G").value,r=this.getParameter("M").value;e.per=2*Math.PI*Math.sqrt(-t*t*t/(a*r))}var n=new H(e);return n.scale=1/O.AU,n}return d.log("Attempt to get quick orbit with undefined constants"),d.log("   Available:"+Object.keys(this.parameters)),null}}]),e}(),V=function(e,t,a){var r=[],n=0,i=0,s=0,c=0,o=0;d.log("Number of MPC small bodies:"+a.length);for(var l=0;l<a.length;l+=1){var u=a[l],m=u.Name;m||(m=u.Designation_and_name),m||(m="Unnamed_"+(o+=1));var h=new B(m),f=u.e,p=u.Orbit_type;if(null!=f&&1!==f){if(f>1&&(i+=1),h.addParameter(G.genParam("Eccen",f)),h.addParameter(G.genParam("i",d.toRadians(u.i))),h.addParameter(G.genParam("nu",d.toRadians(u.Peri))),h.addParameter(G.genParam("Omega",d.toRadians(u.Node))),"C"===p||"P"===p||"A"===p||"I"===p){var g=u.Year_of_perihelion,v=u.Month_of_perihelion,b=u.Day_of_perihelion,E=new Date(g,v-1,Math.floor(b)).setDate(Math.floor(b))/1e3,y=(E+=86400*(b-Math.floor(b)))-O.Epoch0;h.addParameter(G.genParam("t0",y));var N=u.Perihelion_dist*O.AU;h.addParameter(G.genParam("a",N/(1-f))),c+=1}else{h.addParameter(G.genParam("a",u.a*O.AU));var M=86400*(u.Epoch-O.JD0),A=u.M/u.n*86400;h.addParameter(G.genParam("t0",M-A)),s+=1}if(h.addParameter(G.genParam("t",e)),null!=h.getParameter("r",!0))null==h.quickOrbit()&&d.log("Found null orbit at index:"+l),r.push({type:p,name:m,orbit:h.quickOrbit(),H:u.H});else n+=1}else n+=1}d.log("Parsed MPC data"),d.log("    "+r.length+" total bodies"),d.log("    "+s+" asteroids"),d.log("    "+c+" comets"),d.log("    "+i+" hyperbolic orbits"),d.log("    "+n+" orbits skipped (parabolic or missing information)"),t(r)},J=function(e,t){d.log("Initiating loading of MPC data");var a=new XMLHttpRequest;a.open("GET","data/combG.json",!0),a.onload=function(){var r,n=a.responseText,i=JSON.parse(n);for(r in i)break;V(e,t,i[r])},a.onerror=function(){d.log("Called error function when loading asteroids and comets!")},a.send(null)},W=function(e,t,a){for(var r=t.orbitXYZ(360),n=[],i=0;i<r.length;i+=1){var s=r[i];n.push(new p.E(s[0],s[1],s[2]))}var c=new p.k({color:a}),o=(new p.b).setFromPoints(n);return{component:new p.j(o,c),name:e+"Orbit",render:null}},X=function(e,t,a,r,n,i,s){var c=.03*(Math.log10(r/1e4)+1);s&&(c=r);var o=new p.z(c,8,8),l=new p.o({wireframe:i,color:n}),u=new p.n(o,l),m=a.position(t);u.position.set(m[0],m[1],m[2]);var h={component:u,name:e+"Body",render:function(e){var t=a.position(e);h.component.position.set(t[0],t[1],t[2])}};return h},K=function(e,t,a,r,n){var i=.03*(Math.log10(r/1e4)+1),s=new p.w(1.1*i,2*i,8),c=new p.o({wireframe:!0,color:n}),o=new p.n(s,c),l=a.position(t);return o.position.set(l[0],l[1],l[2]),{component:o,name:e+"Ring",render:function(e){var t=a.position(e);o.position.set(t[0],t[1],t[2])}}},Z=new p.m,Q=new p.u,$=new p.y,ee=new p.E,te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new p.b,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p.s;return Object(c.a)(this,a),(e=t.call(this)).type="AngPoints",e.geometry=r,e.material=n,e.updateMorphTargets(),e.maxAngSq=5e-5,e}return Object(o.a)(a,[{key:"copy",value:function(e){return Object(I.a)(Object(z.a)(a.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var a=this.geometry,r=this.matrixWorld,n=e.params.Points.threshold,i=a.drawRange;if(null===a.boundingSphere&&a.computeBoundingSphere(),$.copy(a.boundingSphere),$.applyMatrix4(r),$.radius+=n,!1!==e.ray.intersectsSphere($)){Z.copy(r).invert(),Q.copy(e.ray).applyMatrix4(Z);this.scale.x,this.scale.y,this.scale.z;if(a.isBufferGeometry){var s=a.index,c=a.attributes.position;if(null!==s)for(var o=Math.max(0,i.start),l=Math.min(s.count,i.start+i.count);o<l;o++){var u=s.getX(o);ee.fromBufferAttribute(c,u),ae(ee,u,this.maxAngSq,r,e,t,this)}else for(var m=Math.max(0,i.start),h=Math.min(c.count,i.start+i.count);m<h;m++)ee.fromBufferAttribute(c,m),ae(ee,m,this.maxAngSq,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,a=Object.keys(t);if(a.length>0){var r=t[a[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var n=0,i=r.length;n<i;n++){var s=r[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=n}}}}else{var c=e.morphTargets;void 0!==c&&c.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),a}(p.q);function ae(e,t,a,r,n,i,s){var c=Q.distanceSqToPoint(e);if(c/Q.origin.distanceToSquared(e)<a){var o=new p.E;Q.closestPointToPoint(e,o),o.applyMatrix4(r);var l=n.ray.origin.distanceTo(o);if(l<n.near||l>n.far)return;n.ray.origin.distanceTo(e),o.distanceTo(e);i.push({distance:l,distanceToRay:Math.sqrt(c),point:o,index:t,face:null,object:s})}}te.prototype.isPoints=!0;var re=te,ne=function(e,t,a){function r(e,t){1;for(var a=[],r=0;r<e.length;r+=1){null==e[r].orbit&&d.log("No orbit for "+r+" "+e.name);var n=e[r].orbit.position(t);a.push(n[0],n[1],n[2])}return new p.h(a,3)}var n=new p.b;n.setAttribute("position",r(e,a)),n.setAttribute("color",function(e,t){for(var a={A:12578629,Amor:2064945,Apollo:16432852,Aten:14466815,Atira:4626832,C:15741670,"Distant Object":3978315,Hilda:16767153,Hungaria:11206595,I:10117924,"Jupiter Trojan":4379892,MBA:16769305,"Object with perihelion distance < 1.665 AU":4416472,P:15079755,Phocaea:16775880},r=[],n=0;n<e.length;n+=1){var i=e[n].type,s=e[n].H,c=16777215;a[i]?c=a[i]:d.log("Cannot find type for: "+n);var o=new p.c(c),l=1;"P"!==i&&(l=.2),s>5&&(l=5/s),r.push(o.r*l,o.g*l,o.b*l)}return new p.h(r,3)}(e));var i=new p.s({sizeAttenuation:!1,size:2,vertexColors:!0}),s=new re(n,i);return s.getIndexedName=function(t){return e[t].name},{component:s,render:function(t){n.setAttribute("position",r(e,t))}}},ie=function(e){e||(e={});var t=e.sunSize||.1,a=e.sunColor||16776960,r=e.sunWire||!1,n=e.sunSegements||8,i=e.sunName||"SunBody",s=e.sunPosition||[0,0,0],c=new p.z(t,n,n),o=new p.o({wireframe:r,color:a}),l=new p.n(c,o);return l.position.set(s[0],s[1],s[2]),{component:l,name:i,render:null}},se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),r=t.call(this,e);var n={planets:["Mercury","Venus","Earth","Mars","Jupiter","Saturn","Uranus","Neptune","Pluto"],timeID:"timeDisp",name:"Solar System",baseAnimation:"Local Galactic Neighborhood",longClickTime:1500};for(var i in n)e&&e[i]||(r[i]=n[i]);return r.timeID&&(r.timeElem=document.getElementById(r.timeID)),r.addSun(),r.addPlanets(),r.addSmallBodies(),r.timeElem&&r.addTimeDisplay(),r.frame.renderer.domElement.addEventListener("longClick",r.longClickEvt.bind(Object(N.a)(r))),r.optionState="empty",r}return Object(o.a)(a,[{key:"longClickEvt",value:function(e){this.frame.animation.doLongClick&&this.frame.animation.doLongClick(e)}},{key:"doLongClick",value:function(e){var t=this.frame.raycast(e.detail),r=null;for(var n in t)if(n.endsWith("Body")){var i=n.substring(0,n.length-4);if(Ae.isAnimation(i)){r=i;break}}else if(n.endsWith("Orbit")){var s=n.substring(0,n.length-5);if(Ae.isAnimation(s)){r=s;break}}d.log("Found:"+r),r?this.setAnim(r):Object(I.a)(Object(z.a)(a.prototype),"doLongClick",this).call(this,e)}},{key:"foundBodies",value:function(e){var t=e.detail;t=Object.entries(t).sort((function(e,t){return e[1]-t[1]}));var a=[];for(var r in t)t[r][1]>0&&(t[r][1]=t[r][1].toFixed(4)),a.push({name:t[r][0],d:t[r][1]});this.setState({nearby:a})}},{key:"addBody",value:function(e){if(e&&!(e.length<2)){var t=this.findBody(e);if(t){this.addElement(e+"Orbit",W(e,t.orbit,65535));var a=X(e,this.time,t.orbit,4e3,16776960,!0);this.addElement(a.name,a)}}}},{key:"findBody",value:function(e){for(var t=0;t<this.smbData.length;t+=1){var a=this.smbData[t];if(a.name===e)return a}return null}},{key:"addSun",value:function(){this.addElement("Sun",ie())}},{key:"addPlanets",value:function(){for(var e=this.planets,t=0;t<e.length;t+=1){var a=e[t];d.log("Processing "+a);var r=U.getElements(a,this.time),n=r.elements,i=new B(a);for(var s in n)i.addParameter(G.genParam(s,n[s]));if(i.addParameter(G.genParam("t",this.time)),null!=i.getParameter("r",!0)){var c=i.quickOrbit(),o=W(a,c,r.color);this.addElement(o.name,o);var l=X(a,this.time,c,r.diameter,r.color,!0);if(this.addElement(l.name,l),r.ringAngle){var u=K(a,this.time,c,r.diameter,r.ringColor);this.addElement(u.name,u)}}else d.log("Unable to get complete orbit for planet:"+a)}}},{key:"addSmallBodies",value:function(){d.log("Adding small bodies"),J(this.time,this.smbCallback.bind(this))}},{key:"smbCallback",value:function(e){this.smbData=e,this.addElement("SmallBodies",ne(this.smbData,this.colorLookup,this.time))}},{key:"options",value:function(){for(var e=["Solar System","Set time","Show object orbit","Define orbit parameters","Trajectory conrols","The Earth and environs","Local Galactic Neightborhood","Nearby Galaxies (TBD)","Help"],t=[],a=0;a<e.length;a+=1){var r={},n=e[a];r.value=e[a];var i="ka"+a;switch(n){case"Set time":r.elem=Object(E.jsx)(w,{placeholder:"...time...",callback:this.updateTime.bind(this)},i);break;case"Show object orbit":r.elem=Object(E.jsx)(w,{placeholder:"...object name..",callback:this.addBody.bind(this)},i);break;case"Define orbit parameters":r.elem=Object(E.jsx)(P,{action:this.openParams},i);break;case"The Earth and environs":r.elem=Object(E.jsx)(P,{args:"The Earth and environs",action:this.setAnim.bind(this)},i);break;case"Local Galactic Neightborhood":r.elem=Object(E.jsx)(P,{args:"Local Galactic Neighborhood",action:this.setAnim.bind(this)},i);break;case"Help":r.elem=Object(E.jsx)(P,{action:this.openHelp},i);break;default:r.elem=Object(E.jsxs)("div",{children:["Just the ",n]},i)}t.push(r)}return Object(E.jsx)(x,{options:t})}},{key:"raycastResult",value:function(e){var t=document.getElementById("clickTarget"),a="<hr/><table><tr><th>Object</th><th>Offset (au)</th></tr>",r=[];for(var n in e){s=(s=e[n])?s.toPrecision(2):"-",r.push({name:n,dist:s})}r.length>0&&(r=r.sort((function(e,t){return e.dist==t.dist?0:"-"===e.dist?-1:"-"===t.dist?1:e.dist-t.dist})));for(var i=0;i<r.length;i+=1){var s;a+="<tr><td>"+(n=r[i].name)+"</td><td>"+(s=r[i].dist)+"</td></tr>"}a+="</table>",t.innerHTML=a}},{key:"addExternalOrbit",value:function(e,t){if(this.addElement(e+"Orbit",W(e,t,11206570)),null!=t.t0){var a=X(e+"Body",this.time,t,4e3,16755455,!0);this.addElement(a.name,a)}}}]),a}(M),ce=function(){function e(t){Object(c.a)(this,e),this.sin_dg=Math.sin(t[1]),this.cos_dg=Math.cos(t[1]),this.alphaG=t[0],this.deltaG=t[1],this.lonE=t[2];var a=this.toVector(this.transform(0,0)),r=this.toVector(this.transform(Math.PI/2,0)),n=this.toVector(this.transform(0,Math.PI/2));this.mat=[a,r,n]}return Object(o.a)(e,[{key:"transform",value:function(e,t){var a=Math.cos(t),r=Math.sin(t),n=Math.cos(e-this.alphaG),i=Math.sin(e-this.alphaG),s=r*this.sin_dg+a*this.cos_dg*n,c=Math.asin(s),o=(Math.cos(c),a*i),l=r*this.cos_dg-a*this.sin_dg*n,u=this.lonE-Math.atan2(o,l);return(u%=2*Math.PI)<0&&(u+=2*Math.PI),[u,c]}},{key:"transformd",value:function(t,a){return d.times(1/e.RADIAN,this.transform(t*e.RADIAN,a*e.RADIAN))}},{key:"toVector",value:function(e){var t=e[0],a=e[1];return[Math.cos(t)*Math.cos(a),Math.sin(t)*Math.cos(a),Math.sin(a)]}},{key:"vTransform",value:function(e){if(!e.length||3!=e.length)return null;var t=d.times(e[0],this.mat[0]);return t=d.vadd(t,d.times(e[1],this.mat[1])),t=d.vadd(t,d.times(e[2],this.mat[2]))}}],[{key:"getCoords",value:function(t){if(Array.isArray(t))return new e(t);var a=t.toLowerCase();return e.transformations[a]||(e.coordDefs[a]||d.log("Unknown coordinate System:"+a),e.transformations[a]=new e(d.times(e.RADIAN,e.coordDefs[a]))),e.transformations[a]}}]),e}();ce.RADIAN=Math.PI/180,ce.coordDefs={eqgal:[192.859481,27.128251,122.931918],eqec:[270,66.560709,90],galeq:[122.931918,27.128251,192.859481],eceq:[90,66.560709,270],ecgal:[180.023217,29.81144,96.383971],galec:[96.383971,29.81144,180.023217]},ce.transformations={};var oe=ce.getCoords;var le=function e(t){Object(c.a)(this,e);var a=t.a,r=O.rEarth,n=O.MEarth,i=O.G,s=t.e,o=s*s,l=t.rot[3]/t.rot[0],u=t.rot[4],m=3*Math.sqrt(i*n/(a*a*a))*.00108262668*r*r/(2*a*a*(1-o)*(1-o));this.fOmega=-m*l,this.fNu=m*(4-5*u*u)/2};var ue=function(e,t){var a=new XMLHttpRequest;a.open("GET",e),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE)(function(e){var a=e.split("\n"),n=0,i=[];for(;n<a.length;)if("0"==a[n].charAt(0)){var c=s(a[n],a[n+1],a[n+2]);if(c){var o=new le(c.orbit);c.orbit.addPrecession(c.orbit.ep0,o.fOmega,o.fNu),i[i.length]=c}n+=3}else a[n].trim().length>0&&d.log("Unexpected line in tle:\n  ",a[n]),n+=1;t&&t(r,i)})(a.responseText)},a.send();var r=-1e30,n=1e10,i=0;function s(e,t,a){if(i+=1,"1"==!t.charAt(0)||"2"==!a.charAt(0))return d.log("Invalid TLE detected:\n  ",e,"\n  ",t,"\n  ",a),null;var s=e.substring(2).trim();s.startsWith("TBA ")&&(s="TBA");var c=t.substring(2,7).trim(),o=t.substring(9,17).trim(),l=t.substring(18,20);l=l.charAt(0)>"4"?"19"+l:"20"+l,l=parseInt(l);var u=t.substring(20,32).trim();u=parseFloat(u);var m=a.substring(8,16).trim(),h=a.substring(17,25).trim(),f="0."+a.substring(26,33).trim(),p=a.substring(34,42).trim(),g=a.substring(43,51).trim(),v=a.substring(52,63).trim(),b=365*(l-2e3),E=0;l>2e3&&(E=Math.floor((l-2001)/4)+1);var y=O.SOLAR_DAY*(b+E+u);(y>r||i<3)&&(r=y);var N=new B(s),M=G.genParam;N.addParameter(M("M",O.MEarth)),N.addParameter(M("t",y)),N.addParameter(M("N0",v)),N.addParameter(M("i",m*Math.PI/180)),N.addParameter(M("nu",p*Math.PI/180)),N.addParameter(M("Omega",h*Math.PI/180)),N.addParameter(M("MA",g*Math.PI/180)),N.addParameter(M("Eccen",f));N.getParameter("Rot",!0);var A=N.getParameter("a",!0);N.getParameter("t0",!0),N.getParameter("per",!0),N.getParameter("Eccen",!0);A.value<n&&(n=A.value);var j=N.quickOrbit();return j.ep0=y,j.scale=1/O.rEarth,{name:s+"_"+o+"_"+c,id:c,orbit:j}}},me=function(e,t){function a(e,t){for(var a=[],r=0;r<e.length;r+=1){null==e[r].orbit&&d.log("No orbit for "+r+" "+e.name);var n=e[r].orbit.position(t);a.push(n[0],n[1],n[2])}return new p.h(a,3)}var r=new p.b;r.setAttribute("position",a(e,t)),r.setAttribute("color",function(e){for(var t=[],a=0;a<e.length;a+=1){var r=e[a].name.toUpperCase();r.indexOf("DEB")>0?t.push(1,0,0):r.indexOf("STARLINK")>=0?t.push(0,1,0):t.push(1,1,1)}return new p.h(t,3)}(e));var n=new p.s({sizeAttenuation:!1,size:2,vertexColors:!0}),i=new re(r,n);return i.getIndexedName=function(t){return e[t].name},{component:i,render:function(t){r.setAttribute("position",a(e,t))}}},he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).longClickTime=1500,n.name="Earth",n.moonRef=Object(r.createRef)(),n.lunarOrbitData={base:{t:43200,a:3844e5,Eccen:.0554,nu:318.15*Math.PI/180,MA:135.27*Math.PI/180,i:5.16*Math.PI/180,Omega:125.08*Math.PI/180,N0:13.176358/360},prec:{ep0:43200,fNu:2*Math.PI/(5.997*O.CENTURY/100),fOmega:2*Math.PI/(18.6*O.CENTURY/100)}},n.delta=2,n.cameraPos=new p.E(0,0,2.5),n.baseAnimation="Solar System",n.scene=new p.x,n.eceq=oe("EcEq");var i=Object(N.a)(n),s=new p.d(16777215,1);n.addElement("sunlight",{name:"sunlight",component:s,render:function(e){var t=i.earthOrbit.position(e);t=i.eceq.vTransform(t),s.position.x=-1e3*t[0],s.position.y=-1e3*t[1],s.position.z=-1e3*t[2]}}),n.scene.add(new p.a(3355443));n.moonScale=10;var o=n.createEarthSphere(1,30);d.log("Transform earth coordinates to Equatorial"),n.addElement("Earth",{name:"Earth",component:o,render:function(e){var t=e/O.SIDEREAL_DAY*360;t+=O.SIDEREAL_ANGLE_AT_EPOCH,t%=360,t*=Math.PI/180,o.rotation.y=t}});var l=new B("Moon");l.addStructure(n.lunarOrbitData.base);l.getParameter("r",!0);var u=l.quickOrbit();u.addPrecession(n.lunarOrbitData.prec.ep0,n.lunarOrbitData.prec.fOmega,n.lunarOrbitData.prec.fNu),n.moonOrbit=u,u.scale=1/O.rEarth;var m=n.createMoonSphere(.2727,30);n.addElement("Moon",{name:"Moon",component:m,render:function(e){var t=i.moonOrbit.position(e);m.position.x=t[0]*i.moonScale/60,m.position.y=t[1]*i.moonScale/60,m.position.z=t[2]*i.moonScale/60;var a=Math.atan2(t[1],t[0]);m.rotation.y=Math.PI+a}}),n.addTimeDisplay(),ue("data/norad.tle",n.addSatellites.bind(Object(N.a)(n)));var h=U.getElements("Earth",n.time).elements,f=new B("Earth");for(var g in h)f.addParameter(G.genParam(g,h[g]));f.addParameter(G.genParam("t",n.time));var v=f.getParameter("r",!0);return n.earthOrbit=f.quickOrbit(),s.position.x=-1e3*v[0],s.position.y=-1e3*v[0],s.position.z=-1e3*v[0],n}return Object(o.a)(a,[{key:"options",value:function(){for(var e=["The Earth and environs","Moon orbit scaling","Set time","Show object orbit","Define orbit parameters","Trajectory conrols","Solar System","Local Galactic Neightborhood","Nearby Galaxies (TBD)","Help"],t=[],a=0;a<e.length;a+=1){var r={},n=e[a];r.value=e[a];var i="ka"+a;switch(n){case"Set time":r.elem=Object(E.jsx)(w,{placeholder:"...year...",callback:this.updateTime.bind(this)},i);break;case"Moon orbit scaling":r.elem=Object(E.jsxs)("div",{children:[" ",Object(E.jsx)("input",{onChange:this.setMoonScale.bind(this),ref:this.moonRef,id:"moonScaling",type:"range",min:"1",max:"60",defaultValue:this.moonScale})]});break;case"Define orbit parameters":r.elem=Object(E.jsx)(P,{action:this.openParams},i);break;case"Solar System":r.elem=Object(E.jsx)(P,{args:"Solar System",action:this.setAnim.bind(this)},i);break;case"Local Galactic Neightborhood":r.elem=Object(E.jsx)(P,{args:"Local Galactic Neighborhood",action:this.setAnim.bind(this)},i);break;case"Help":r.elem=Object(E.jsx)(P,{action:this.openHelp},i);break;default:r.elem=Object(E.jsxs)("div",{children:["TBD: ",n]},i)}t.push(r)}return Object(E.jsx)(x,{options:t})}},{key:"setMoonScale",value:function(e){this.moonScale=e.target.value}},{key:"addSatellites",value:function(e,t){d.log("NORAD epoch for satellites: "+e/31557600),d.log("Number of satellites: "+t.length),this.baseTime=e,this.setTime(e),this.addElement("satellites",me(t,e))}},{key:"createEarthSphere",value:function(e,t){var a=new p.n(new p.z(e,t,t),new p.p({map:(new p.C).load("images/earth.jpg"),bumpMap:(new p.C).load("images/bump.jpg"),bumpScale:.005,specularMap:(new p.C).load("images/spec.jpg"),specular:new p.c("grey")}));return a.rotateX(Math.PI/2),a}},{key:"createMoonSphere",value:function(e,t){var a=new p.n(new p.z(e,t,t),new p.p({map:(new p.C).load("images/moon.jpg")}));return a.rotateX(Math.PI/2),a}},{key:"timeFormatter",value:function(e){var t="";return Math.abs(e-this.baseTime)>180*O.SOLAR_DAY&&(t=" <br>More than 6 months from satellite ephemeris epoch"),Object(I.a)(Object(z.a)(a.prototype),"timeFormatter",this).call(this,e)+t}},{key:"raycastResult",value:function(e){var t=document.getElementById("clickTarget"),a="Results:<table><tr><th>Object</th><th>Offset (rE)</th></tr>",r=[];for(var n in e){s=(s=e[n])?s.toPrecision(2):"-",r.push({name:n,dist:s})}r.length>0&&(r=r.sort((function(e,t){return e.dist==t.dist?0:"-"===e.dist?-1:"-"===t.dist?1:e.dist-t.dist})));for(var i=0;i<r.length;i+=1){var s;a+="<tr><td>"+(n=r[i].name)+"</td><td>"+(s=r[i].dist)+"</td></tr>"}a+="</table>",t.innerHTML=a}}]),a}(M),fe=function(){function e(t){Object(c.a)(this,e),this.orbit=t,this.transforms=[]}return Object(o.a)(e,[{key:"addTransform",value:function(e){this.transforms.push(e)}},{key:"position",value:function(e){return this.transform(this.orbit.position(e))}},{key:"transform",value:function(e){for(var t=0;t<this.transforms.length;t+=1)e=this.transforms[t].vTransform(e);return e}},{key:"orbitXYZ",value:function(e){var t=this.orbit.orbitXYZ(e);return this.multi(t)}},{key:"state",value:function(e){return multi(this.orbit.state(e))}},{key:"multi",value:function(e){for(var t=0;t<e.length;t+=1)e[t]=this.transform(e[t]);return e}}]),e}(),de=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;Object(c.a)(this,a),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:n,thetaSegments:i,phiSegments:s,thetaStart:o,thetaLength:l},i=Math.max(3,i);for(var u=[],m=[],h=[],f=[],d=r,g=(n-r)/(s=Math.max(1,s)),v=new p.E,O=new p.D,b=0;b<=s;b++){for(var E=0;E<=i;E++){var y=o+E/i*l;v.x=d*Math.cos(y),v.y=d*Math.sin(y),m.push(v.x,v.y,v.z),h.push(0,0,1),O.x=(d-r)/(n-r),O.y=y/Math.PI/2,f.push(O.x,O.y)}d+=g}for(var N=0;N<s;N++)for(var M=N*(i+1),A=0;A<i;A++){var j=A+M,k=j,P=j+i+1,w=j+i+2,x=j+1;u.push(k,P,x),u.push(P,w,x)}return e.setIndex(u),e.setAttribute("position",new p.h(m,3)),e.setAttribute("normal",new p.h(h,3)),e.setAttribute("uv",new p.h(f,2)),e}return Object(o.a)(a,null,[{key:"fromJSON",value:function(e){return new a(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),a}(p.b),pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).frame=e.frame,r.timeID&&(r.timeElem=document.getElementById(r.timeID)),r.delta=2,r.moons={},r.longClickTime=1e3,r.scene=new p.x,r.cameraPos=new p.E(0,0,2.5),r.baseAnimation="Solar System",r.segments=40;var n=Object(N.a)(r);r.eceqE=oe("eceq");var i=[r.rotAxis.ra,r.rotAxis.dec,Math.PI/2];r.eqEeqP=oe(i),r.planetOrbit=r.getOrbit(r.planetName,r.time),r.planetOrbit=new fe(r.planetOrbit),r.planetOrbit.addTransform(r.eceqE),r.planetOrbit.addTransform(r.eqEeqP);var s=r.planetOrbit.position(r.time),o=new p.d(16777215,1);o.position.x=-1e3*s[0],o.position.y=-1e3*s[1],o.position.z=-1e3*s[2],o.castShadow=!0,r.addElement("sunlight",{name:"sunlight",component:o,render:function(e){var t=n.planetOrbit.position(e);o.position.x=-1e3*t[0],o.position.y=-1e3*t[1],o.position.z=-1e3*t[2]}}),r.scene.add(new p.a(3355443));return r.addElement(r.planetName,r.createPlanet(r.planetName,1,r.texture,r.ring)),r.addTimeDisplay(),r.moonInfo&&r.addMoons(r.moonInfo),r}return Object(o.a)(a,[{key:"options",value:function(){for(var e=[this.name],t=[],a=0;a<e.length;a+=1){var r={};r.value=e[a];var n="ka"+a;r.elem=Object(E.jsx)("div",{},n),t.push(r)}return Object(E.jsx)(x,{options:t})}},{key:"addMoons",value:function(e){for(var t in e){var a=e[t],r=this.getMoonOrbit(t,a);if(a.frame&&"Equatorial"!=a.frame.type)if(r=new fe(r),"Ecliptic"==a.frame)r.addTransform(this.eceqE),r.addTransform(this.eqEeqP);else if("Laplace"==a.frame){var n=oe([a.frame.ra,a.frame.dec,Math.PI/2]);r.addTransform(this.eceqE),r.addTransform(n)}var i,s=.2;a.render&&a.render.frac&&(s=a.render.frac);var c=a.render.color?a.render.color:16776960;if(i=X(t,this.time,r,s,c,!1,!0),a.render&&a.render.texture){var o=r.position(this.time),l=this.createSphere(s,this.segments,a.render.texture);l.position.set(o[0],o[1],o[2]),i.component=l}this.addElement(t+"Body",i),this.moons[t]={rendering:i,data:a,orbit:r}}}},{key:"createPlanet",value:function(e,t,a,r){var n=this.createSphere(t,this.segments,a,r),i=this;return{name:e,component:n,render:function(e){var t=i.rotationPhase+2*Math.PI*(e/i.rotationPeriod);t%=2*Math.PI,n.rotation.y=t}}}},{key:"getOrbit",value:function(e,t){var a=U.getElements(e,t),r=a.elements;this.planetRadius=1e3*a.diameter/2;var n=new B(e);for(var i in r)n.addParameter(G.genParam(i,r[i]));n.addParameter(G.genParam("t",t));n.getParameter("r",!0);return n.quickOrbit()}},{key:"getMoonOrbit",value:function(e,t){var a=new B(e),r=t.elems;r.t||(t.prec?r.t=t.prec.ep0:r.t=this.time),a.addStructure(t.elems);a.getParameter("r",!0);return(a=a.quickOrbit()).prec&&a.addPrecession(t.prec.ep0,t.prec.fOmega,t.prec.fNu),a.scale=1/this.planetRadius,t.moonScale&&(a.scale/=t.moonScale),a}},{key:"createSphere",value:function(e,t,a,r){var n,i=new p.C,s=null,c=null,o=null,l=null;if(a.map&&(s=i.load(a.map)),a.bump&&(c=i.load(a.bump)),a.spec&&(o=i.load(a.spec),l=new p.c("grey")),(n=new p.n(new p.z(e,t,t),new p.p({map:s,bumpMap:c,bumpScale:.005,specularMap:o,specular:l}))).rotateX(Math.PI/2),n.receiveShadow=!0,r){var u=(new p.C).load(r.texture.map),m=new de(r.innerRadius,r.outerRadius,2*t),h=new p.p({map:u,specular:l,side:p.e}),f=new p.n(m,h);f.position.set(0,0,0),f.rotateX(Math.PI/2),n.add(f),f.receiveShadow=!0}return n}},{key:"raycastResult",value:function(e){var t=document.getElementById("clickTarget"),a="<hr/><table></tr>";for(var r in e)r.endsWith("Body")&&(r=r.substring(0,r.length-4)),a+="<tr><td>"+r+"</td></tr>";a+="</table>",t.innerHTML=a}}]),a}(M),ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){Object(c.a)(this,a);var r=Math.PI/180,n=O.CENTURY/100;Math.PI;return e.name="Mercury",e.planetName="Mercury",e.rotationPhase=0,e.rotationPeriod=5067014.4,e.rotAxis={ra:281.01*r,dec:61.45*r},e.texture={map:"images/2k_mercury.jpg",src:"https://www.solarsystemscope.com/textures/download/2k_mercury.jpg",copyright:"https://creativecommons.org/licenses/by/4.0/"},t.call(this,e)}return a}(pe),ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){Object(c.a)(this,a);var r=Math.PI/180,n=O.CENTURY/100;Math.PI;return e.name="Venus",e.planetName="Venus",e.rotationPhase=0,e.rotationPeriod=-20997152.64,e.rotAxis={ra:272.76*r,dec:67.16*r},e.texture={map:"images/2k_venus_surface.jpg",src:"https://www.solarsystemscope.com/textures/download/2k_venus_surface.jpg",copyright:"https://creativecommons.org/licenses/by/4.0/"},t.call(this,e)}return a}(pe),Oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){Object(c.a)(this,a);var r=Math.PI/180,n=O.CENTURY/100,i=2*Math.PI/n;return e.name="Mars",e.planetName="Mars",e.rotationPhase=0,e.rotationPeriod=88642.6848,e.rotAxis={ra:317.68142*r,dec:52.8865*r},e.texture={map:"images/2k_mars.jpg",src:"https://www.solarsystemscope.com/textures/download/2k_mars.jpg",copyright:"https://creativecommons.org/licenses/by/4.0/"},e.moonInfo={Phobos:{elems:{a:9376e3,Eccen:.0151,nu:150.057*r,MA:91.059*r,i:1.075*r,Omega:207.785*r,N0:1128.8447569/360},prec:{ep0:-50*n,pNu:i/1.1316,pOmega:i/2.2617},r:11266.7,render:{frac:.1,color:16776960}},Deimos:{elems:{a:23458e3,Eccen:2e-4,nu:260.729*r,MA:325.729*r,i:1.788*r,Omega:24.525*r,N0:285.161879/360},prec:{ep0:-50*n,pNu:i/27.3703,pOmega:i/54.5367},radius:6200,render:{frac:.05,color:16711680}}},t.call(this,e)}return a}(pe),be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){Object(c.a)(this,a);var r=Math.PI/180,n=O.CENTURY/100,i=2*Math.PI/n;return e.name="Jupiter",e.planetName="Jupiter",e.rotationPhase=0,e.rotationPeriod=88642.6848,e.rotAxis={ra:268.057*r,dec:64.495*r},e.texture={map:"images/2k_jupiter.jpg",src:"https://www.solarsystemscope.com/textures/download/2k_jupiter.jpg",copyright:"https://creativecommons.org/licenses/by/4.0/"},e.moonInfo={Io:{elems:{a:4218e5,Eccen:.0041,nu:84.129*r,MA:342.021*r,i:.036*r,Omega:43.977*r,N0:203.4889583/360},prec:{ep0:-.2*O.CENTURY,fNu:i/1.625,fOmega:i/7.42},frame:{type:"Laplace",ra:268.057*r,dec:64.495*r},render:{frac:.2,color:16711680,texture:{map:"images/iomap-planet-text-maps-fandom.png",src:"https://planet-texture-maps.fandom.com/wiki/Io",copyright:"Creative Commons Attribution-Share Alike License 3.0"}},size:1e5},Europa:{elems:{a:6711e5,Eccen:.0094,nu:88.97*r,MA:171.016*r,i:.466*r,Omega:219.106*r,N0:101.3747242/360},prec:{ep0:-.2*O.CENTURY,fNu:i/1.394,fOmega:i/30.184},frame:{type:"Laplace",ra:268.084*r,dec:64.506*r},render:{frac:.2,color:16711680,texture:{map:"images/europa_texture_map__20k__by_askaniy_dcqbaif-pre.jpg",src:"https://www.deviantart.com/askaniy/art/Europa-Texture-Map-20K-769790967",copyright:"Creative Commons Attribution-Noncommercial-Share Alike 3.0 License"}},size:1e5},Ganymede:{elems:{a:10704e5,Eccen:.0013,nu:192.417*r,MA:317.54*r,i:.177*r,Omega:63.552*r,N0:50.3176072/360},prec:{ep0:-.2*O.CENTURY,fNu:i/63.549,fOmega:i/132.654},frame:{type:"Laplace",ra:268.168*r,dec:64.543*r},render:{frac:.2,color:16711680,texture:{map:"images/ganymede_texture_map__11k__by_askaniy_dddhxoy-pre.jpg",src:"https://www.deviantart.com/askaniy/art/Ganymede-Texture-Map-11K-808732114",copyright:"Creative Commons Attribution-Noncommercial-Share Alike 3.0 License"}},size:1e5},Callisto:{elems:{a:18827e5,Eccen:.0074,nu:52.643*r,MA:181.408*r,i:.192*r,Omega:298.848*r,N0:21.5710728/360},prec:{ep0:-.2*O.CENTURY,fNu:i/205.75,fOmega:i/338.82},frame:{type:"Laplace",ra:268.639*r,dec:64.749*r},render:{frac:.2,color:16711680,texture:{map:"images/callisto_texture_map__8k__by_askaniy_dddit1h-pre.jpg",src:"https://www.deviantart.com/askaniy/art/Callisto-Texture-Map-8K-808772741",copyright:"Creative Commons Attribution-Noncommercial-Share Alike 3.0 License"}},size:1e5},Amalthea:{elems:{a:1814e5,Eccen:.0032,nu:155.873*r,MA:185.194*r,i:.38*r,Omega:108.946*r,N0:2.0073103175},prec:{ep0:-.2*O.CENTURY,fNu:i/.196,fOmega:i/.393},frame:{type:"Laplace",ra:268.057*r,dec:64.495*r},render:{frac:.08,color:255},size:1e5},Thebe:{elems:{a:2219e5,Eccen:.0176,nu:234.269*r,MA:135.956*r,i:1.08*r,Omega:235.694*r,N0:533.7002568/360},prec:{ep0:-.2*O.CENTURY,fNu:i/.398,fOmega:i/.797},frame:{type:"Laplace",ra:268.057*r,dec:64.495*r},render:{frac:.08,color:255},size:1e5},Adrastea:{elems:{a:129e6,Eccen:.0018,nu:328.047*r,MA:135.673*r,i:.054*r,Omega:228.378*r,N0:1206.9988064/360},prec:{ep0:-.2*O.CENTURY,fNu:i/.058,fOmega:i/.116},frame:{type:"Laplace",ra:268.057*r,dec:64.496*r},render:{frac:.08,color:255},size:1e5},Metis:{elems:{a:128e6,Eccen:.0012,nu:297.177*r,MA:276.047*r,i:.019*r,Omega:146.912*r,N0:1221.2545982/360},prec:{ep0:-.2*O.CENTURY,fNu:i/.057,fOmega:i/.115},frame:{type:"Laplace",ra:268.057*r,dec:64.496*r},render:{frac:.08,color:255},size:1e5},Himalia:{elems:{a:1146e7,Eccen:.1586,nu:331.234*r,MA:66.874*r,i:28.612*r,Omega:64.798*r,N0:1.4367562/360},prec:{ep0:-.2*O.CENTURY,fNu:i/139.38,fOmega:i/292.57},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Elara:{elems:{a:1174e7,Eccen:.2108,nu:142.001*r,MA:330.985*r,i:27.945*r,Omega:115.511*r,N0:1.3865315/360},prec:{ep0:-.2*O.CENTURY,fNu:i/128.07,fOmega:i/265.3},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Pasiphae:{elems:{a:23629e6,Eccen:.4062,nu:169.226*r,MA:279.769*r,i:151.413*r,Omega:314.223*r,N0:.4841223/360},prec:{ep0:-.2*O.CENTURY,fNu:i/81.2,fOmega:i/81.17},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Sinope:{elems:{a:23942e6,Eccen:.2552,nu:354.541*r,MA:165.352*r,i:158.189*r,Omega:309.199*r,N0:.4743772/360},prec:{ep0:-.2*O.CENTURY,fNu:i/88.72,fOmega:i/87.4},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Lysithea:{elems:{a:11717e6,Eccen:.1161,nu:49.67*r,MA:330.475*r,i:27.663*r,Omega:5.326*r,N0:1.3888891/360},prec:{ep0:-.2*O.CENTURY,fNu:i/131.19,fOmega:i/292.04},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Carme:{elems:{a:23401e6,Eccen:.2546,nu:26.416*r,MA:233.375*r,i:164.994*r,Omega:114.854*r,N0:.4903501/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.98,fOmega:i/88.32},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Ananke:{elems:{a:21254e6,Eccen:.2332,nu:95.772*r,MA:253.384*r,i:148.693*r,Omega:15.959*r,N0:.5716125/360},prec:{ep0:-.2*O.CENTURY,fNu:i/144.92,fOmega:i/110.12},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Leda:{elems:{a:11164e6,Eccen:.1624,nu:269.393*r,MA:230.352*r,i:27.882*r,Omega:219.181*r,N0:1.4942407/360},prec:{ep0:-.2*O.CENTURY,fNu:i/144.79,fOmega:i/301.94},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Callirrhoe:{elems:{a:24099e6,Eccen:.2796,nu:23.909*r,MA:107.962*r,i:147.08*r,Omega:283.104*r,N0:.4744232/360},prec:{ep0:-.2*O.CENTURY,fNu:i/120.06,fOmega:i/89.03},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Themisto:{elems:{a:7504e6,Eccen:.2435,nu:217.147*r,MA:313.051*r,i:42.977*r,Omega:192.288*r,N0:2.7688033/360},prec:{ep0:-.2*O.CENTURY,fNu:i/686.41,fOmega:i/528.39},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Megaclite:{elems:{a:23814e6,Eccen:.4156,nu:288.882*r,MA:135.272*r,i:152.781*r,Omega:280.575*r,N0:.4781658/360},prec:{ep0:-.2*O.CENTURY,fNu:i/76.9,fOmega:i/79.23},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Taygete:{elems:{a:23363e6,Eccen:.2523,nu:231.54*r,MA:94.756*r,i:165.253*r,Omega:305.114*r,N0:.4915209/360},prec:{ep0:-.2*O.CENTURY,fNu:i/81.04,fOmega:i/88.59},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Chaldene:{elems:{a:23181e6,Eccen:.2503,nu:243.878*r,MA:267.454*r,i:165.155*r,Omega:134.24*r,N0:.4974208/360},prec:{ep0:-.2*O.CENTURY,fNu:i/81.66,fOmega:i/89.52},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Harpalyke:{elems:{a:21106e6,Eccen:.2296,nu:134.505*r,MA:215.956*r,i:148.759*r,Omega:29.834*r,N0:.5775515/360},prec:{ep0:-.2*O.CENTURY,fNu:i/147.17,fOmega:i/111.64},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Kalyke:{elems:{a:23565e6,Eccen:.2466,nu:218.934*r,MA:255.702*r,i:165.121*r,Omega:43.864*r,N0:.485149/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.76,fOmega:i/87.67},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Iocaste:{elems:{a:21272e6,Eccen:.2152,nu:64.727*r,MA:213.675*r,i:149.411*r,Omega:269.613*r,N0:.5699784/360},prec:{ep0:-.2*O.CENTURY,fNu:i/145.78,fOmega:i/111.18},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Erinome:{elems:{a:23286e6,Eccen:.2655,nu:10.274*r,MA:267.136*r,i:164.914*r,Omega:317.497*r,N0:.4941719/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.51,fOmega:i/88.33},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Isonoe:{elems:{a:23231e6,Eccen:.2471,nu:116.879*r,MA:124.941*r,i:165.25*r,Omega:130.961*r,N0:.4956884/360},prec:{ep0:-.2*O.CENTURY,fNu:i/81.8,fOmega:i/89.52},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Praxidike:{elems:{a:21148e6,Eccen:.2274,nu:190.862*r,MA:117.48*r,i:148.885*r,Omega:280.956*r,N0:.5756381/360},prec:{ep0:-.2*O.CENTURY,fNu:i/144.77,fOmega:i/111.16},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Autonoe:{elems:{a:24037e6,Eccen:.3152,nu:54.793*r,MA:142.035*r,i:152.364*r,Omega:272.817*r,N0:.4730563/360},prec:{ep0:-.2*O.CENTURY,fNu:i/92.33,fOmega:i/85},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Thyone:{elems:{a:21197e6,Eccen:.2307,nu:97.023*r,MA:238.786*r,i:148.595*r,Omega:233.022*r,N0:.5739872/360},prec:{ep0:-.2*O.CENTURY,fNu:i/147.58,fOmega:i/110.93},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Hermippe:{elems:{a:21297e6,Eccen:.2095,nu:300.836*r,MA:131.854*r,i:150.74*r,Omega:330.393*r,N0:.567904/360},prec:{ep0:-.2*O.CENTURY,fNu:i/136.92,fOmega:i/110.64},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Aitne:{elems:{a:23317e6,Eccen:.2627,nu:99.401*r,MA:105*r,i:165.048*r,Omega:8.679*r,N0:.4930702/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.36,fOmega:i/88.19},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Eurydome:{elems:{a:23146e6,Eccen:.2755,nu:223.631*r,MA:287.689*r,i:150.271*r,Omega:302.47*r,N0:.5018735/360},prec:{ep0:-.2*O.CENTURY,fNu:i/111.58,fOmega:i/93.3},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Euanthe:{elems:{a:21039e6,Eccen:.232,nu:320.635*r,MA:333.101*r,i:148.915*r,Omega:254.297*r,N0:.5802269/360},prec:{ep0:-.2*O.CENTURY,fNu:i/144.52,fOmega:i/111.71},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Euporie:{elems:{a:19336e6,Eccen:.1438,nu:89.904*r,MA:70.243*r,i:145.74*r,Omega:60.143*r,N0:.6537221/360},prec:{ep0:-.2*O.CENTURY,fNu:i/337063.88,fOmega:i/139.45},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Orthosie:{elems:{a:21158e6,Eccen:.2807,nu:216.805*r,MA:204.517*r,i:146.004*r,Omega:221.949*r,N0:.5782402/360},prec:{ep0:-.2*O.CENTURY,fNu:i/142.35,fOmega:i/107.53},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Sponde:{elems:{a:2379e7,Eccen:.3112,nu:61.885*r,MA:174.044*r,i:150.997*r,Omega:116.363*r,N0:.481076/360},prec:{ep0:-.2*O.CENTURY,fNu:i/98.08,fOmega:i/87.01},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Kale:{elems:{a:23306e6,Eccen:.2597,nu:44.233*r,MA:212.853*r,i:164.944*r,Omega:60.17*r,N0:.4934152/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.91,fOmega:i/88.57},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Pasithee:{elems:{a:23091e6,Eccen:.2682,nu:231.92*r,MA:215.443*r,i:165.117*r,Omega:327.729*r,N0:.5003695/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.82,fOmega:i/89.25},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Hegemone:{elems:{a:23575e6,Eccen:.3445,nu:197.144*r,MA:236.95*r,i:154.164*r,Omega:318.902*r,N0:.4866038/360},prec:{ep0:-.2*O.CENTURY,fNu:i/85.66,fOmega:i/84.87},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Mneme:{elems:{a:21033e6,Eccen:.2258,nu:40.542*r,MA:256.86*r,i:148.585*r,Omega:13.467*r,N0:.5806001/360},prec:{ep0:-.2*O.CENTURY,fNu:i/148.06,fOmega:i/112.26},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Aoede:{elems:{a:23974e6,Eccen:.4325,nu:59.739*r,MA:197.676*r,i:158.272*r,Omega:173.392*r,N0:.4728089/360},prec:{ep0:-.2*O.CENTURY,fNu:i/69.17,fOmega:i/76.83},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Thelxinoe:{elems:{a:2116e7,Eccen:.2201,nu:313.183*r,MA:268.013*r,i:151.39*r,Omega:169.962*r,N0:.5732248/360},prec:{ep0:-.2*O.CENTURY,fNu:i/130.58,fOmega:i/110.42},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Arche:{elems:{a:23352e6,Eccen:.2495,nu:171.632*r,MA:39.713*r,i:165.015*r,Omega:339.21*r,N0:.0013663075},prec:{ep0:-.2*O.CENTURY,fNu:i/81.4,fOmega:i/88.73},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Kallichore:{elems:{a:23276e6,Eccen:.2509,nu:9.836*r,MA:55.937*r,i:165.102*r,Omega:30.339*r,N0:.4943462/360},prec:{ep0:-.2*O.CENTURY,fNu:i/81.56,fOmega:i/89.16},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Helike:{elems:{a:21065e6,Eccen:.1498,nu:299.482*r,MA:43.659*r,i:154.842*r,Omega:89.749*r,N0:.5747808/360},prec:{ep0:-.2*O.CENTURY,fNu:i/127.4,fOmega:i/114.52},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Carpo:{elems:{a:17056e6,Eccen:.4317,nu:90.372*r,MA:337.062*r,i:51.624*r,Omega:50.597*r,N0:.7889862/360},prec:{ep0:-.2*O.CENTURY,fNu:i/711550.25,fOmega:i/112.82},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Eukelade:{elems:{a:23323e6,Eccen:.2619,nu:309.685*r,MA:204.846*r,i:165.265*r,Omega:193.558*r,N0:.492926/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.24,fOmega:i/88.16},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Cyllene:{elems:{a:238e8,Eccen:.4155,nu:187.429*r,MA:128.345*r,i:150.336*r,Omega:252.611*r,N0:.4787365/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.19,fOmega:i/79.71},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Kore:{elems:{a:24482e6,Eccen:.3313,nu:138.071*r,MA:33.416*r,i:145.173*r,Omega:313.355*r,N0:.4634134/360},prec:{ep0:-.2*O.CENTURY,fNu:i/108.39,fOmega:i/84.47},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Herse:{elems:{a:23408e6,Eccen:.2541,nu:330.295*r,MA:141.667*r,i:164.964*r,Omega:295.702*r,N0:.4901154/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.98,fOmega:i/88.27},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2000 J 11":{elems:{a:12297e6,Eccen:.232,nu:173.544*r,MA:309.734*r,i:28.631*r,Omega:294.497*r,N0:1.2939791/360},prec:{ep0:-.2*O.CENTURY,fNu:i/117.58,fOmega:i/241.93},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 2":{elems:{a:28347e6,Eccen:.41,nu:165.201*r,MA:237.932*r,i:157.291*r,Omega:344.782*r,N0:.3671484/360},prec:{ep0:-.2*O.CENTURY,fNu:i/60.25,fOmega:i/62.87},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 3":{elems:{a:20221e6,Eccen:.1969,nu:66.338*r,MA:311.78*r,i:147.547*r,Omega:231.489*r,N0:.6165779/360},prec:{ep0:-.2*O.CENTURY,fNu:i/181.96,fOmega:i/122.74},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 4":{elems:{a:23929e6,Eccen:.3624,nu:197.401*r,MA:260.48*r,i:149.589*r,Omega:179.131*r,N0:.4766663/360},prec:{ep0:-.2*O.CENTURY,fNu:i/90.17,fOmega:i/82.96},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 5":{elems:{a:23495e6,Eccen:.2476,nu:90.066*r,MA:336.636*r,i:165.248*r,Omega:176.683*r,N0:.4873118/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.95,fOmega:i/88.1},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 9":{elems:{a:23385e6,Eccen:.2632,nu:292.662*r,MA:348.415*r,i:165.047*r,Omega:44.321*r,N0:.0013636625},prec:{ep0:-.2*O.CENTURY,fNu:i/80.27,fOmega:i/87.93},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 10":{elems:{a:23042e6,Eccen:.4299,nu:170.833*r,MA:258.937*r,i:165.073*r,Omega:151.911*r,N0:.5026172/360},prec:{ep0:-.2*O.CENTURY,fNu:i/68.06,fOmega:i/80.34},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 12":{elems:{a:1783e7,Eccen:.4904,nu:13.288*r,MA:38.543*r,i:151.003*r,Omega:65.53*r,N0:.735186/360},prec:{ep0:-.2*O.CENTURY,fNu:i/97.93,fOmega:i/109.42},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 15":{elems:{a:22627e6,Eccen:.1899,nu:18.405*r,MA:58.865*r,i:146.492*r,Omega:236.674*r,N0:.5219082/360},prec:{ep0:-.2*O.CENTURY,fNu:i/187.83,fOmega:i/105.37},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 16":{elems:{a:21097e6,Eccen:.2281,nu:57.681*r,MA:307.563*r,i:148.683*r,Omega:16.883*r,N0:.5779589/360},prec:{ep0:-.2*O.CENTURY,fNu:i/146.7,fOmega:i/111.64},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 18":{elems:{a:20508e6,Eccen:.0895,nu:130.894*r,MA:202.16*r,i:146.077*r,Omega:158.247*r,N0:.6018719/360},prec:{ep0:-.2*O.CENTURY,fNu:i/506.86,fOmega:i/131.88},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 19":{elems:{a:23533e6,Eccen:.2552,nu:176.668*r,MA:223.035*r,i:165.116*r,Omega:27.442*r,N0:.4862156/360},prec:{ep0:-.2*O.CENTURY,fNu:i/80.17,fOmega:i/87.39},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2003 J 23":{elems:{a:23567e6,Eccen:.2746,nu:255.114*r,MA:144.222*r,i:146.424*r,Omega:41.706*r,N0:.4914942/360},prec:{ep0:-.2*O.CENTURY,fNu:i/130.1,fOmega:i/92.9},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2010 J 1":{elems:{a:23449e6,Eccen:.2491,nu:189.23*r,MA:160.525*r,i:165.1*r,Omega:282.871*r,N0:.4887995/360},prec:{ep0:-.2*O.CENTURY,fNu:i/81.18,fOmega:i/88.33},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2010 J 2":{elems:{a:21004e6,Eccen:.2267,nu:18.252*r,MA:312.074*r,i:148.673*r,Omega:5.802*r,N0:.5817371/360},prec:{ep0:-.2*O.CENTURY,fNu:i/147.06,fOmega:i/112.35},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2011 J 1":{elems:{a:23446e6,Eccen:.2534,nu:31.514*r,MA:256.027*r,i:165.318*r,Omega:250.728*r,N0:.001358055},prec:{ep0:-.2*O.CENTURY,fNu:i/80.45,fOmega:i/87.91},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2011 J 2":{elems:{a:23124e6,Eccen:.3493,nu:270.154*r,MA:285.597*r,i:153.597*r,Omega:24.866*r,N0:.5011321/360},prec:{ep0:-.2*O.CENTURY,fNu:i/87.78,fOmega:i/87},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5}},t.call(this,e)}return a}(pe),Ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){Object(c.a)(this,a);var r=Math.PI/180,n=O.CENTURY/100,i=2*Math.PI/n;return e.name="Saturn",e.planetName="Saturn",e.rotationPhase=0,e.rotationPeriod=38018,e.rotAxis={ra:40.589*r,dec:83.537*r},e.texture={map:"images/2k_saturn.jpg",src:"https://www.solarsystemscope.com/textures/download/2k_saturn.jpg",copyright:"https://creativecommons.org/licenses/by/4.0/"},e.ring={texture:{map:"images/saturn_rings_fargetanik.png",src:"https://www.deviantart.com/fargetanik/art/Saturn-Rings-Texture-Map-13k-814720659",copyright:"Creative Commons Attribution-Share Alike License 3.0",transparent:!0},innerRadius:1.239,outerRadius:2.32},e.moonInfo={Mimas:{elems:{a:185539e3,Eccen:.0196,nu:332.499*r,MA:14.848*r,i:1.574*r,Omega:173.027*r,N0:381.9944948/360},prec:{ep0:43200,fNu:i/.493,fOmega:i/.986},frame:{type:"Laplace",ra:40.589*r,dec:83.536*r},render:{frac:.05,color:16776960},size:1e5},Enceladus:{elems:{a:238042e3,Eccen:0,nu:.076*r,MA:199.686*r,i:.003*r,Omega:342.507*r,N0:262.7318978/360},prec:{ep0:43200,fNu:i/1.184,fOmega:i/2.36},frame:{type:"Laplace",ra:40.586*r,dec:83.536*r},render:{frac:.05,color:16776960},size:1e5},Tethys:{elems:{a:294672e3,Eccen:1e-4,nu:45.202*r,MA:243.367*r,i:1.091*r,Omega:259.842*r,N0:190.6979109/360},prec:{ep0:43200,fNu:i/2.49,fOmega:i/4.982},frame:{type:"Laplace",ra:40.578*r,dec:83.537*r},render:{frac:.05,color:16776960},size:1e5},Dione:{elems:{a:377415e3,Eccen:.0022,nu:284.315*r,MA:322.232*r,i:.028*r,Omega:290.415*r,N0:131.5349307/360},prec:{ep0:43200,fNu:i/5.852,fOmega:i/11.709},frame:{type:"Laplace",ra:40.544*r,dec:83.54*r},render:{frac:.05,color:16776960},size:1e5},Rhea:{elems:{a:527068e3,Eccen:2e-4,nu:241.619*r,MA:179.781*r,i:.333*r,Omega:351.042*r,N0:79.6900459/360},prec:{ep0:43200,fNu:i/17.939,fOmega:i/35.832},frame:{type:"Laplace",ra:40.328*r,dec:83.559*r},render:{frac:.05,color:16776960},size:1e5},Titan:{elems:{a:1221865e3,Eccen:.0288,nu:180.532*r,MA:163.31*r,i:.306*r,Omega:28.06*r,N0:22.5769756/360},prec:{ep0:43200,fNu:i/352.12,fOmega:i/704.6},frame:{type:"Laplace",ra:36.214*r,dec:83.949*r},render:{frac:.3,color:16711680,texture:{map:"images/titan_texture_map_8k_by_fargetanik_db0f8m0-fullview.jpg",src:"https://www.deviantart.com/fargetanik/art/Titan-Texture-Map-8k-665838936",copyright:"Creative Commons Attribution-Share Alike License 3.0"}},size:1e5},Hyperion:{elems:{a:1500933e3,Eccen:.0232,nu:303.178*r,MA:86.342*r,i:.615*r,Omega:263.847*r,N0:16.9199503/360},prec:{ep0:43200,fNu:i/127.99,fOmega:i/154.66},frame:{type:"Laplace",ra:36.372*r,dec:83.862*r},render:{frac:.05,color:16776960},size:1e5},Iapetus:{elems:{a:3560854e3,Eccen:.0293,nu:271.606*r,MA:201.789*r,i:8.298*r,Omega:81.105*r,N0:4.5379416/360},prec:{ep0:43200,fNu:i/1676.69,fOmega:i/3438.73},frame:{type:"Laplace",ra:284.715*r,dec:78.749*r},render:{frac:.05,color:16776960},size:1e5},Phoebe:{elems:{a:12947918e3,Eccen:.1634,nu:342.5*r,MA:53.038*r,i:175.243*r,Omega:241.086*r,N0:.6569114/360},prec:{ep0:43200,fNu:i/460.92,fOmega:i/723.17},frame:{type:"Laplace",ra:275.954*r,dec:67.455*r},render:{frac:.05,color:16776960},size:1e5},Janus:{elems:{a:15145e4,Eccen:.0098,nu:16.012*r,MA:17.342*r,i:.165*r,Omega:154.175*r,N0:518.3431513/360},prec:{ep0:43200,fNu:i/.24,fOmega:i/.482},frame:{type:"Laplace",ra:40.585*r,dec:83.538*r},render:{frac:.03,color:16776960},size:1e5},Epimetheus:{elems:{a:15145e4,Eccen:.0161,nu:88.975*r,MA:80.377*r,i:.353*r,Omega:192.762*r,N0:518.0979676/360},prec:{ep0:43200,fNu:i/.24,fOmega:i/.482},frame:{type:"Laplace",ra:40.585*r,dec:83.538*r},render:{frac:.03,color:16776960},size:1e5},Helene:{elems:{a:377444e3,Eccen:0,nu:33.134*r,MA:43.186*r,i:.213*r,Omega:163.112*r,N0:131.5349306/360},prec:{ep0:43200,fNu:i/2.562,fOmega:i/11.706},frame:{type:"Laplace",ra:40.544*r,dec:83.54*r},render:{frac:.03,color:16776960},size:1e5},Telesto:{elems:{a:29472e4,Eccen:2e-4,nu:119.135*r,MA:260.157*r,i:1.18*r,Omega:229.182*r,N0:190.6979089/360},prec:{ep0:43200,fNu:i/2.489,fOmega:i/4.982},frame:{type:"Laplace",ra:40.578*r,dec:83.537*r},render:{frac:.03,color:16776960},size:1e5},Calypso:{elems:{a:294721e3,Eccen:5e-4,nu:17.47*r,MA:156.66*r,i:1.5*r,Omega:314.226*r,N0:190.6979089/360},prec:{ep0:43200,fNu:i/2.487,fOmega:i/4.983},frame:{type:"Laplace",ra:40.578*r,dec:83.537*r},render:{frac:.03,color:16776960},size:1e5},Atlas:{elems:{a:137774e3,Eccen:.0011,nu:210.851*r,MA:283.282*r,i:.003*r,Omega:236.422*r,N0:598.3147505/360},prec:{ep0:43200,fNu:i/.171,fOmega:i/.344},frame:{type:"Laplace",ra:40.585*r,dec:83.538*r},render:{frac:.03,color:16776960},size:1e5},Prometheus:{elems:{a:139429e3,Eccen:.0022,nu:37.514*r,MA:96.886*r,i:.007*r,Omega:319.176*r,N0:587.2860142/360},prec:{ep0:43200,fNu:i/.179,fOmega:i/.359},frame:{type:"Laplace",ra:40.585*r,dec:83.538*r},render:{frac:.02,color:16776960},size:1e5},Pandora:{elems:{a:14181e4,Eccen:.0042,nu:66.248*r,MA:125.112*r,i:.05*r,Omega:147.272*r,N0:572.7878754/360},prec:{ep0:43200,fNu:i/.19,fOmega:i/.381},frame:{type:"Laplace",ra:40.585*r,dec:83.538*r},render:{frac:.02,color:16776960},size:1e5},Pan:{elems:{a:133585e3,Eccen:0,nu:103.331*r,MA:351.187*r,i:0*r,Omega:52.076*r,N0:626.0317341/360},prec:{ep0:43200,fNu:i/.154,fOmega:i/.309},frame:{type:"Laplace",ra:40.583*r,dec:83.538*r},render:{frac:.02,color:16776960},size:1e5},Methone:{elems:{a:194402e3,Eccen:0,nu:134.636*r,MA:71.189*r,i:.013*r,Omega:313.562*r,N0:356.5949252/360},prec:{ep0:43200,fNu:i/.25,fOmega:i/1.158},frame:{type:"Laplace",ra:40.589*r,dec:83.536*r},render:{frac:.02,color:16776960},size:1e5},Pallene:{elems:{a:212282e3,Eccen:.004,nu:16.074*r,MA:356.229*r,i:.001*r,Omega:123.18*r,N0:312.0270737/360},prec:{ep0:43200,fNu:i/.862,fOmega:i/1.899},frame:{type:"Laplace",ra:40.579*r,dec:83.537*r},render:{frac:.02,color:16776960},size:1e5},Polydeuces:{elems:{a:377222e3,Eccen:.0191,nu:311.847*r,MA:89.307*r,i:.175*r,Omega:67.936*r,N0:131.5349306/360},prec:{ep0:43200,fNu:i/5.811,fOmega:i/11.695},frame:{type:"Laplace",ra:40.543*r,dec:83.54*r},render:{frac:.02,color:16776960},size:1e5},Daphnis:{elems:{a:136504e3,Eccen:0,nu:266.931*r,MA:113.79*r,i:.003*r,Omega:132.867*r,N0:605.9791512/360},prec:{ep0:43200,fNu:i/.166,fOmega:i/.334},frame:{type:"Laplace",ra:40.583*r,dec:83.538*r},render:{frac:.02,color:16776960},size:1e5},Anthe:{elems:{a:196888e3,Eccen:.0011,nu:138.902*r,MA:190.473*r,i:.015*r,Omega:287.852*r,N0:347.3587167/360},prec:{ep0:43200,fNu:i/.617,fOmega:i/1.232},frame:{type:"Laplace",ra:40.583*r,dec:83.537*r},render:{frac:.02,color:16776960},size:1e5},Aegaeon:{elems:{a:167425e3,Eccen:2e-4,nu:152.905*r,MA:322.771*r,i:.001*r,Omega:317.202*r,N0:445.4934177/360},prec:{ep0:43200,fNu:i/.343,fOmega:i/.688},frame:{type:"Laplace",ra:40.584*r,dec:83.537*r},render:{frac:.02,color:16776960},size:1e5},Ymir:{elems:{a:23128e6,Eccen:.3338,nu:21.352*r,MA:228.673*r,i:173.497*r,Omega:192.937*r,N0:.2737369/360},prec:{ep0:0,fNu:i/217.61,fOmega:i/277.53},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Paaliaq:{elems:{a:15204e6,Eccen:.3325,nu:237.522*r,MA:321.654*r,i:46.228*r,Omega:330.022*r,N0:.5240567/360},prec:{ep0:0,fNu:i/576.14,fOmega:i/535.71},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Tarvos:{elems:{a:18243e6,Eccen:.5382,nu:274.104*r,MA:265.783*r,i:33.725*r,Omega:102.504*r,N0:.3886226/360},prec:{ep0:0,fNu:i/194.18,fOmega:i/272.97},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Ijiraq:{elems:{a:11408e6,Eccen:.2717,nu:92.899*r,MA:17.328*r,i:47.485*r,Omega:130.779*r,N0:.7974868/360},prec:{ep0:0,fNu:i/13807.37,fOmega:i/935.12},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Suttungr:{elems:{a:19468e6,Eccen:.1139,nu:34.281*r,MA:321.133*r,i:175.815*r,Omega:227.259*r,N0:.3540952/360},prec:{ep0:0,fNu:i/292.79,fOmega:i/402.2},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Kiviuq:{elems:{a:11384e6,Eccen:.3325,nu:90.205*r,MA:172.018*r,i:46.764*r,Omega:353.584*r,N0:.0022260975},prec:{ep0:0,fNu:i/19973.94,fOmega:i/840.86},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Mundilfari:{elems:{a:18653e6,Eccen:.2097,nu:309.694*r,MA:92.821*r,i:167.439*r,Omega:82.856*r,N0:.3778328/360},prec:{ep0:0,fNu:i/312.23,fOmega:i/417.31},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Albiorix:{elems:{a:16393e6,Eccen:.4797,nu:55.932*r,MA:32.828*r,i:34.06*r,Omega:102.512*r,N0:.4595027/360},prec:{ep0:0,fNu:i/249.88,fOmega:i/358.14},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Skathi:{elems:{a:15635e6,Eccen:.2718,nu:203.517*r,MA:114.689*r,i:152.633*r,Omega:286.599*r,N0:.4944382/360},prec:{ep0:0,fNu:i/474.36,fOmega:i/546.69},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Erriapus:{elems:{a:17602e6,Eccen:.4722,nu:282.522*r,MA:294.829*r,i:34.481*r,Omega:150.985*r,N0:.0011479275},prec:{ep0:0,fNu:i/219.9,fOmega:i/323.49},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Siarnaq:{elems:{a:18182e6,Eccen:.2802,nu:65.929*r,MA:201.288*r,i:45.809*r,Omega:47.826*r,N0:.4020067/360},prec:{ep0:0,fNu:i/457.4,fOmega:i/454.2},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Thrymr:{elems:{a:20418e6,Eccen:.4659,nu:125.404*r,MA:30.075*r,i:177.659*r,Omega:285.762*r,N0:.3296678/360},prec:{ep0:0,fNu:i/875.11,fOmega:i/139002.09},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Narvi:{elems:{a:19349e6,Eccen:.4296,nu:169.959*r,MA:114.172*r,i:145.731*r,Omega:174.435*r,N0:.3585873/360},prec:{ep0:0,fNu:i/341.38,fOmega:i/347.42},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Aegir:{elems:{a:20751e6,Eccen:.2524,nu:242.651*r,MA:26.017*r,i:166.668*r,Omega:179.064*r,N0:.3220526/360},prec:{ep0:0,fNu:i/273.91,fOmega:i/350.18},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Bebhionn:{elems:{a:17116e6,Eccen:.4682,nu:358.141*r,MA:168.045*r,i:35.101*r,Omega:199.128*r,N0:.4312114/360},prec:{ep0:0,fNu:i/236.57,fOmega:i/342.06},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Bergelmir:{elems:{a:19336e6,Eccen:.142,nu:133.4*r,MA:306.494*r,i:158.557*r,Omega:202.164*r,N0:.3579396/360},prec:{ep0:0,fNu:i/359.7,fOmega:i/424.95},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Bestla:{elems:{a:20209e6,Eccen:.5145,nu:81.185*r,MA:239.156*r,i:145.136*r,Omega:288.308*r,N0:.3308757/360},prec:{ep0:0,fNu:i/284.99,fOmega:i/299.08},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Farbauti:{elems:{a:2039e7,Eccen:.2414,nu:342.995*r,MA:282.813*r,i:156.52*r,Omega:135.109*r,N0:.3312924/360},prec:{ep0:0,fNu:i/330.77,fOmega:i/374.34},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Fenrir:{elems:{a:22454e6,Eccen:.1347,nu:120.982*r,MA:131.678*r,i:164.963*r,Omega:226.595*r,N0:.2856343/360},prec:{ep0:0,fNu:i/276.77,fOmega:i/332.99},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Fornjot:{elems:{a:25146e6,Eccen:.2077,nu:324.787*r,MA:214.499*r,i:170.372*r,Omega:259.946*r,N0:.2409497/360},prec:{ep0:0,fNu:i/223.68,fOmega:i/267.44},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Hati:{elems:{a:19868e6,Eccen:.371,nu:21.286*r,MA:163.64*r,i:165.808*r,Omega:324.38*r,N0:.3460954/360},prec:{ep0:0,fNu:i/262.48,fOmega:i/339.97},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Hyrrokkin:{elems:{a:1844e7,Eccen:.3359,nu:273.076*r,MA:291.841*r,i:151.536*r,Omega:45.402*r,N0:.3863203/360},prec:{ep0:0,fNu:i/375.76,fOmega:i/406.45},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Kari:{elems:{a:22093e6,Eccen:.4756,nu:163.935*r,MA:286.021*r,i:156.067*r,Omega:281.211*r,N0:.2924012/360},prec:{ep0:0,fNu:i/228.81,fOmega:i/270.06},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Loge:{elems:{a:23059e6,Eccen:.1862,nu:32.821*r,MA:337.237*r,i:167.689*r,Omega:343.811*r,N0:.2745228/360},prec:{ep0:0,fNu:i/251.72,fOmega:i/307.35},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Skoll:{elems:{a:17668e6,Eccen:.4636,nu:193.115*r,MA:44.965*r,i:161.01*r,Omega:296.623*r,N0:.409912/360},prec:{ep0:0,fNu:i/286.68,fOmega:i/369.06},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Surtur:{elems:{a:22941e6,Eccen:.4459,nu:303.662*r,MA:136.191*r,i:169.688*r,Omega:236.537*r,N0:77094e-8},prec:{ep0:0,fNu:i/202.95,fOmega:i/259.66},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Jarnsaxa:{elems:{a:19354e6,Eccen:.2178,nu:237.422*r,MA:198.75*r,i:163.649*r,Omega:22.519*r,N0:.3575194/360},prec:{ep0:0,fNu:i/312.48,fOmega:i/396.92},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Greip:{elems:{a:18457e6,Eccen:.3146,nu:152.16*r,MA:314.541*r,i:174.8*r,Omega:349.35*r,N0:.3841491/360},prec:{ep0:0,fNu:i/280.23,fOmega:i/385.9},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Tarqeq:{elems:{a:17962e6,Eccen:.1675,nu:34.767*r,MA:161.02*r,i:46.291*r,Omega:83.291*r,N0:.4067094/360},prec:{ep0:0,fNu:i/896.54,fOmega:i/593.15},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2004 S 7":{elems:{a:21e9,Eccen:.529,nu:84.036*r,MA:79.762*r,i:165.693*r,Omega:341.236*r,N0:.3157314/360},prec:{ep0:0,fNu:i/211.18,fOmega:i/273.22},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2004 S 12":{elems:{a:19886e6,Eccen:.3268,nu:87.128*r,MA:1.599*r,i:165.261*r,Omega:307.942*r,N0:.3441326/360},prec:{ep0:0,fNu:i/273.22,fOmega:i/351.49},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2004 S 13":{elems:{a:18406e6,Eccen:.2591,nu:346.186*r,MA:41.077*r,i:168.798*r,Omega:205.701*r,N0:.3856043/360},prec:{ep0:0,fNu:i/302.01,fOmega:i/409.39},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2004 S 17":{elems:{a:19448e6,Eccen:.1795,nu:180.792*r,MA:228.545*r,i:168.239*r,Omega:26.664*r,N0:.3548169/360},prec:{ep0:0,fNu:i/300.99,fOmega:i/397.14},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2006 S 1":{elems:{a:1878e7,Eccen:.1412,nu:154.95*r,MA:96.596*r,i:156.18*r,Omega:336.641*r,N0:.3741294/360},prec:{ep0:0,fNu:i/405.14,fOmega:i/453.57},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2006 S 3":{elems:{a:22428e6,Eccen:.3792,nu:188.728*r,MA:167.147*r,i:158.631*r,Omega:206.993*r,N0:.2868177/360},prec:{ep0:0,fNu:i/245.54,fOmega:i/287.39},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2007 S 2":{elems:{a:16718e6,Eccen:.1791,nu:57.72*r,MA:84.066*r,i:174.057*r,Omega:111.277*r,N0:.4454603/360},prec:{ep0:0,fNu:i/342.95,fOmega:i/496.45},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},"S/2007 S 3":{elems:{a:18938e6,Eccen:.1853,nu:111.854*r,MA:292.691*r,i:177.595*r,Omega:276.824*r,N0:.3681825/360},prec:{ep0:0,fNu:i/1079.63,fOmega:i/161352.07},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5}},t.call(this,e)}return a}(pe),ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){Object(c.a)(this,a);var r=Math.PI/180,n=O.CENTURY/100,i=2*Math.PI/n;return e.name="Uranus",e.planetName="Uranus",e.rotationPhase=0,e.rotationPeriod=-62063.712,e.rotAxis={ra:257.311*r,dec:-15.175*r},e.texture={map:"images/2k_uranus.jpg",src:"https://www.solarsystemscope.com/textures/download/2k_uranus.jpg",copyright:"https://creativecommons.org/licenses/by/4.0/"},e.moonInfo={Ariel:{elems:{a:1909e5,Eccen:.0012,nu:115.349*r,MA:39.481*r,i:.041*r,Omega:22.394*r,N0:142.8356579/360},prec:{ep0:-.2*O.CENTURY,fNu:i/28.788,fOmega:i/57.248},frame:{type:"Equatorial"},render:{frac:.05,color:16776960},size:1e5},Umbriel:{elems:{a:266e6,Eccen:.0039,nu:84.709*r,MA:12.469*r,i:.128*r,Omega:33.485*r,N0:86.8688879/360},prec:{ep0:-.2*O.CENTURY,fNu:i/63.146,fOmega:i/126.951},frame:{type:"Equatorial"},render:{frac:.05,color:16776960},size:1e5},Titania:{elems:{a:4363e5,Eccen:.0011,nu:284.4*r,MA:24.614*r,i:.079*r,Omega:99.771*r,N0:41.3514246/360},prec:{ep0:-.2*O.CENTURY,fNu:i/161.525,fOmega:i/195.369},frame:{type:"Equatorial"},render:{frac:.05,color:16776960},size:1e5},Oberon:{elems:{a:5835e5,Eccen:.0014,nu:104.4*r,MA:283.088*r,i:.068*r,Omega:279.771*r,N0:26.7394888/360},prec:{ep0:-.2*O.CENTURY,fNu:i/161.52,fOmega:i/195.37},frame:{type:"Equatorial"},render:{frac:.04,color:16776960},size:1e5},Miranda:{elems:{a:1299e5,Eccen:.0013,nu:68.312*r,MA:311.33*r,i:4.338*r,Omega:326.438*r,N0:254.6906576/360},prec:{ep0:-.2*O.CENTURY,fNu:i/8.913,fOmega:i/17.727},frame:{type:"Equatorial"},render:{frac:.04,color:16776960},size:1e5},Cordelia:{elems:{a:498e5,Eccen:3e-4,nu:136.827*r,MA:254.805*r,i:.085*r,Omega:38.374*r,N0:1074.5183162/360},prec:{ep0:-440164800,fNu:i/.328,fOmega:i/.657},frame:{type:"Equatorial"},render:{frac:.04,color:16776960},size:1e5},Ophelia:{elems:{a:538e5,Eccen:.0099,nu:17.761*r,MA:116.259*r,i:.104*r,Omega:164.048*r,N0:956.428333/360},prec:{ep0:-440164800,fNu:i/.431,fOmega:i/.862},frame:{type:"Equatorial"},render:{frac:.04,color:16776960},size:1e5},Bianca:{elems:{a:592e5,Eccen:9e-4,nu:8.293*r,MA:138.486*r,i:.193*r,Omega:93.22*r,N0:828.3879607/360},prec:{ep0:-440164800,fNu:i/.603,fOmega:i/1.206},frame:{type:"Equatorial"},render:{frac:.03,color:16776960},size:1e5},Cressida:{elems:{a:618e5,Eccen:4e-4,nu:44.236*r,MA:233.795*r,i:.006*r,Omega:99.403*r,N0:776.5824144/360},prec:{ep0:-440164800,fNu:i/.701,fOmega:i/1.402},frame:{type:"Equatorial"},render:{frac:.03,color:16776960},size:1e5},Desdemona:{elems:{a:627e5,Eccen:1e-4,nu:183.285*r,MA:184.627*r,i:.113*r,Omega:306.089*r,N0:760.0555393/360},prec:{ep0:-440164800,fNu:i/.737,fOmega:i/1.474},frame:{type:"Equatorial"},render:{frac:.03,color:16776960},size:1e5},Juliet:{elems:{a:644e5,Eccen:7e-4,nu:223.819*r,MA:244.696*r,i:.065*r,Omega:200.155*r,N0:2.0281281525},prec:{ep0:-440164800,fNu:i/.809,fOmega:i/1.619},frame:{type:"Equatorial"},render:{frac:.03,color:16776960},size:1e5},Portia:{elems:{a:661e5,Eccen:1e-4,nu:222.433*r,MA:218.312*r,i:.059*r,Omega:260.067*r,N0:701.4864814/360},prec:{ep0:-440164800,fNu:i/.888,fOmega:i/1.777},frame:{type:"Equatorial"},render:{frac:.02,color:16776960},size:1e5},Rosalind:{elems:{a:699e5,Eccen:1e-4,nu:140.477*r,MA:136.181*r,i:.279*r,Omega:12.847*r,N0:644.6304183/360},prec:{ep0:-440164800,fNu:i/1.081,fOmega:i/2.163},frame:{type:"Equatorial"},render:{frac:.02,color:16755370},size:1e5},Belinda:{elems:{a:753e5,Eccen:1e-4,nu:42.406*r,MA:357.224*r,i:.031*r,Omega:279.337*r,N0:577.3602885/360},prec:{ep0:-440164800,fNu:i/1.397,fOmega:i/2.796},frame:{type:"Equatorial"},render:{frac:.02,color:16776960},size:1e5},Puck:{elems:{a:86e6,Eccen:1e-4,nu:177.094*r,MA:245.796*r,i:.319*r,Omega:268.734*r,N0:1.312623855},prec:{ep0:-440164800,fNu:i/2.224,fOmega:i/4.448},frame:{type:"Equatorial"},render:{frac:.02,color:16776960},size:1e5},Perdita:{elems:{a:76417e3,Eccen:.0116,nu:253.925*r,MA:192.405*r,i:.47*r,Omega:309.376*r,N0:564.246959/360},prec:{ep0:115128e3,fNu:i/1.479,fOmega:i/2.958},frame:{type:"Equatorial"},render:{frac:.02,color:16776960},size:1e5},Mab:{elems:{a:97736e3,Eccen:.0025,nu:249.565*r,MA:273.769*r,i:.134*r,Omega:350.737*r,N0:390.050107/360},prec:{ep0:115128e3,fNu:i/3.502,fOmega:i/7.004},frame:{type:"Equatorial"},render:{frac:.02,color:16776960},size:1e5},Cupid:{elems:{a:74392e3,Eccen:.0013,nu:247.608*r,MA:163.83*r,i:.099*r,Omega:182.793*r,N0:587.443649/360},prec:{ep0:115128e3,fNu:i/1.346,fOmega:i/2.693},frame:{type:"Equatorial"},render:{frac:.02,color:16776960},size:1e5},Caliban:{elems:{a:72311e5,Eccen:.1812,nu:354.339*r,MA:7.271*r,i:141.529*r,Omega:171.189*r,N0:.6209758/360},prec:{ep0:43200,fNu:i/8936.31,fOmega:i/6445.52},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Sycorax:{elems:{a:121794e5,Eccen:.5219,nu:20.103*r,MA:266.583*r,i:159.42*r,Omega:263.034*r,N0:.2794217/360},prec:{ep0:43200,fNu:i/1393.43,fOmega:i/1863.29},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Prospero:{elems:{a:162768e5,Eccen:.4445,nu:174.152*r,MA:233.586*r,i:151.83*r,Omega:319.003*r,N0:.1819679/360},prec:{ep0:43200,fNu:i/1155.47,fOmega:i/1370.39},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Setebos:{elems:{a:174204e5,Eccen:.5908,nu:359.953*r,MA:179.449*r,i:158.235*r,Omega:250.235*r,N0:.0004494225},prec:{ep0:43200,fNu:i/823.91,fOmega:i/1044.2},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Stephano:{elems:{a:80074e5,Eccen:.2248,nu:14.956*r,MA:270.163*r,i:143.819*r,Omega:191.411*r,N0:.5313866/360},prec:{ep0:43200,fNu:i/5484.23,fOmega:i/5182.2},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Trinculo:{elems:{a:85052e5,Eccen:.2194,nu:158.688*r,MA:180.374*r,i:166.971*r,Omega:193.755*r,N0:.4803847/360},prec:{ep0:43200,fNu:i/2592.77,fOmega:i/4273.04},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Francisco:{elems:{a:42829e5,Eccen:.1324,nu:140.644*r,MA:3.202*r,i:147.25*r,Omega:100.738*r,N0:1.3478663/360},prec:{ep0:43200,fNu:i/12574.36,fOmega:i/14080.4},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Margaret:{elems:{a:141467e5,Eccen:.6772,nu:90.017*r,MA:322.187*r,i:57.367*r,Omega:7.067*r,N0:.2167366/360},prec:{ep0:43200,fNu:i/12057739.22,fOmega:i/987.08},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Ferdinand:{elems:{a:2043e7,Eccen:.3993,nu:156.298*r,MA:26.163*r,i:169.793*r,Omega:217.35*r,N0:.1290311/360},prec:{ep0:43200,fNu:i/747.3,fOmega:i/1001.7},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5}},t.call(this,e)}return a}(pe),Ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){Object(c.a)(this,a);var r=Math.PI/180,n=O.CENTURY/100,i=2*Math.PI/n;return e.name="Neptune",e.planetName="Neptune",e.rotationPhase=0,e.rotationPeriod=57996,e.rotAxis={ra:299.3*r,dec:42.95*r},e.texture={map:"images/2k_neptune.jpg",src:"https://www.solarsystemscope.com/textures/download/2k_neptune.jpg",copyright:"https://creativecommons.org/licenses/by/4.0/"},e.moonInfo={Triton:{elems:{a:354759e3,Eccen:0,nu:66.142*r,MA:352.257*r,i:156.865*r,Omega:177.608*r,N0:61.2572638/360},prec:{ep0:43200,fNu:i/386.371,fOmega:i/687.446},frame:{type:"Laplace",ra:299.456*r,dec:43.414*r},render:{frac:.2,color:16711680},size:1e5},Nereid:{elems:{a:5513818e3,Eccen:.7507,nu:281.117*r,MA:216.692*r,i:7.09*r,Omega:335.57*r,N0:.9996276/360},prec:{ep0:43200,fNu:i/8091.45,fOmega:i/9455.73},frame:{type:"Laplace",ra:269.302*r,dec:69.117*r},render:{frac:.1,color:16776960},size:1e5},Naiad:{elems:{a:48227e3,Eccen:3e-4,nu:2.045*r,MA:30.035*r,i:4.691*r,Omega:42.279*r,N0:1222.8435847/360},prec:{ep0:43200,fNu:i/.289,fOmega:i/.575},frame:{type:"Laplace",ra:299.431*r,dec:42.94*r},render:{frac:.06,color:16776960},size:1e5},Thalassa:{elems:{a:50074e3,Eccen:2e-4,nu:237.065*r,MA:262.923*r,i:.135*r,Omega:145.98*r,N0:1155.7559749/360},prec:{ep0:43200,fNu:i/.327,fOmega:i/.654},frame:{type:"Laplace",ra:299.431*r,dec:42.939*r},render:{frac:.06,color:16776960},size:1e5},Despina:{elems:{a:52526e3,Eccen:2e-4,nu:176.857*r,MA:230.812*r,i:.068*r,Omega:77.06*r,N0:1075.7330674/360},prec:{ep0:43200,fNu:i/.387,fOmega:i/.774},frame:{type:"Laplace",ra:299.431*r,dec:42.937*r},render:{frac:.06,color:16776960},size:1e5},Galatea:{elems:{a:61953e3,Eccen:1e-4,nu:343.011*r,MA:65.999*r,i:.034*r,Omega:37.247*r,N0:839.661303/360},prec:{ep0:43200,fNu:i/.69,fOmega:i/1.38},frame:{type:"Laplace",ra:299.43*r,dec:42.925*r},render:{frac:.06,color:16776960},size:1e5},Larissa:{elems:{a:73548e3,Eccen:.0014,nu:249.891*r,MA:166.246*r,i:.205*r,Omega:308.127*r,N0:649.054077/360},prec:{ep0:43200,fNu:i/1.257,fOmega:i/2.516},frame:{type:"Laplace",ra:299.429*r,dec:42.897*r},render:{frac:.06,color:16776960},size:1e5},Proteus:{elems:{a:117646e3,Eccen:5e-4,nu:67.968*r,MA:250.938*r,i:.075*r,Omega:315.131*r,N0:320.7656245/360},prec:{ep0:43200,fNu:i/6.38,fOmega:i/12.727},frame:{type:"Laplace",ra:299.406*r,dec:42.432*r},render:{frac:.06,color:16776960},size:1e5},"S/2004 N 1":{elems:{a:105284e3,Eccen:0,nu:0*r,MA:302.652*r,i:0*r,Omega:0*r,N0:378.9061402/360},prec:{ep0:43200,fNu:i/0,fOmega:i/0},frame:{type:"Laplace",ra:299.373*r,dec:42.944*r},render:{frac:.06,color:16776960},size:1e5},Halimede:{elems:{a:16681e6,Eccen:.2909,nu:162.119*r,MA:105.258*r,i:112.898*r,Omega:217.288*r,N0:532105e-9},prec:{ep0:76982400,fNu:i/5673.19,fOmega:i/18501.48},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Psamathe:{elems:{a:46705e6,Eccen:.4617,nu:144.158*r,MA:190.027*r,i:137.679*r,Omega:298.074*r,N0:.0394359/360},prec:{ep0:76982400,fNu:i/1477.62,fOmega:i/1304.72},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Sao:{elems:{a:22619e6,Eccen:.2827,nu:65.047*r,MA:168.139*r,i:49.907*r,Omega:60.354*r,N0:.123323/360},prec:{ep0:76982400,fNu:i/436880.78,fOmega:i/5382.39},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Laomedeia:{elems:{a:23613e6,Eccen:.4339,nu:140.107*r,MA:285.863*r,i:34.049*r,Omega:59.124*r,N0:.1133637/360},prec:{ep0:76982400,fNu:i/2245.08,fOmega:i/3325.44},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5},Neso:{elems:{a:50258e6,Eccen:.4243,nu:86.441*r,MA:260.648*r,i:131.265*r,Omega:49.151*r,N0:.0364349/360},prec:{ep0:76982400,fNu:i/23936.86,fOmega:i/1094.07},frame:{type:"Ecliptic"},render:{frac:.15,color:16776960},size:1e5}},t.call(this,e)}return a}(pe),Me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){Object(c.a)(this,a);var r=Math.PI/180,n=O.CENTURY/100,i=2*Math.PI/n;return e.name="Pluto",e.planetName="Pluto",e.rotationPhase=0,e.rotationPeriod=-551856.672,e.rotAxis={ra:132.993*r,dec:-6.163*r},e.texture={map:"images/pluto_texture_map_16k_by_fargetanik_dandu2y-fullview.jpg",src:"https://www.deviantart.com/fargetanik/art/Pluto-Texture-Map-16k-643938442",copyright:"Creative Commons Attribution-Share Alike License 3.0"},e.moonInfo={Charon:{elems:{a:19591e3,Eccen:2e-4,nu:146.106*r,MA:131.07*r,i:.08*r,Omega:26.928*r,N0:-56.362521/360},prec:{ep0:0,fNu:i/10178.04,fOmega:i/9020.398},size:{radius:606e3},render:{texture:{map:"images/charon_map_magentameteorite_art.jpg",src:"https://www.deviantart.com/magentameteorite/art/Charon-Texture-Map-794040506",copyright:"Quote: 'give me credit if u want to use this map'"},frac:.51}},Nix:{elems:{a:48671e3,Eccen:0,nu:324.463*r,MA:284.405*r,i:0,Omega:203.4*r,N0:-14.4841304/360},size:{radius:18600,ellipsoid:[24900,16600,15550]},render:{frac:.15}},Hydra:{elems:{a:64698e3,Eccen:.0056,nu:153.307*r,MA:326.678*r,i:.304*r,Omega:113.173*r,N0:-9.4235386/360},prec:{ep0:0,fNu:i/7.19,fOmega:i/14.38},size:{radius:19200,ellipsoid:[25450,18050,15450]},render:{frac:.15}},Kerberos:{elems:{a:57729e3,Eccen:0,nu:160.629*r,MA:161.061*r,i:.426*r,Omega:305.871*r,N0:-11.1913026/360},prec:{ep0:0,fNu:0,fOmega:i/9.27},size:{radius:6,ellipsoid:[9500,5e3,4500]},render:{frac:.1}},Styx:{elems:{a:42393e3,Eccen:6e-4,nu:330.244*r,MA:194.546*r,i:.08*r,Omega:26.956*r,N0:-17.8551357/360},prec:{ep0:0,fNu:i/3710.58,fOmega:i/5162.64},size:{radius:5250,ellipsoid:[8e3,4500,4e3]},render:{frac:.1}}},t.call(this,e)}return a}(pe),Ae=new(function(){function e(){Object(c.a)(this,e),this.available={mercury:1,venus:1,earth:1,mars:1,jupiter:1,saturn:1,uranus:1,neptune:1,pluto:1,"solar system":1,"local galactic neighborhood":1,"the earth and environs":1},this.cache={}}return Object(o.a)(e,[{key:"getAnimation",value:function(e,t){if(e=e.toLowerCase(),!this.cache[e])switch(e){case"mercury":this.cache[e]=new ge(t);break;case"venus":this.cache[e]=new ve(t);break;case"earth":this.cache[e]=new he(t);break;case"mars":this.cache[e]=new Oe(t);break;case"jupiter":this.cache[e]=new be(t);break;case"saturn":this.cache[e]=new Ee(t);break;case"uranus":this.cache[e]=new ye(t);break;case"neptune":this.cache[e]=new Ne(t);break;case"pluto":this.cache[e]=new Me(t);break;case"solar system":this.cache[e]=new se(t);break;case"local galactic neighborhood":this.cache[e]=new R(t);break;case"the earth and environs":this.cache[e]=new he(t)}return this.cache[e]}},{key:"isAnimation",value:function(e){return this.available[e.toLowerCase()]}}]),e}());var je=function(){return Object(E.jsxs)("div",{children:[Object(E.jsx)("strong",{children:"Unit legend:"}),Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:" au: astronomical units "},"1"),Object(E.jsx)("li",{children:" au/day: astronomical units per day "},"2"),Object(E.jsxs)("li",{children:[" ",Object(E.jsx)("strong",{children:"d: degrees (\xb0)"})," "]},"3"),Object(E.jsx)("li",{children:" day: days "},"4"),Object(E.jsx)("li",{children:" jd: Julian days "},"5"),Object(E.jsxs)("li",{children:[" ",Object(E.jsx)("strong",{children:"kg: kilograms "})]},"6"),Object(E.jsx)("li",{children:" km/s: kilometers/second "},"7"),Object(E.jsxs)("li",{children:[" ",Object(E.jsx)("strong",{children:"m: meters "})]},"8"),Object(E.jsxs)("li",{children:[" ",Object(E.jsx)("strong",{children:"m/s: meters/second"})," "]},"9"),Object(E.jsx)("li",{children:" Me: Earth masses "},"10"),Object(E.jsx)("li",{children:" Ms: Solar masses "},"11"),Object(E.jsx)("li",{children:" rad: radians"},"12"),Object(E.jsx)("li",{children:" rE: Earth radii "},"13"),Object(E.jsxs)("li",{children:[" ",Object(E.jsx)("strong",{children:"s: seconds"})]},"14"),Object(E.jsx)("li",{children:" y: years "},"15")]}),"Any of these can be used as suffixes to values. Units in ",Object(E.jsx)("strong",{children:"bold"})," are assumed if no units are specified."]})},ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).units=e.units,r.name=e.name,r.row=e.row,r}return Object(o.a)(a,[{key:"render",value:function(){if(null==this.units||0==this.units.length)return Object(E.jsx)("span",{});var e=[];e.push(Object(E.jsx)("button",{onClick:this.row.cycleUnits.bind(this.row),hidden:!this.props.value,children:">>"},"0")),e.push(Object(E.jsx)("span",{children:"\xa0\xa0"},"-1"));for(var t=0;t<this.units.length;t+=1){var a=this.units[t];"d"==a.unit||1==a.scale&&"rad"!=a.unit?e.push(Object(E.jsx)("span",{children:Object(E.jsxs)("strong",{children:[a.unit," "]})},t+1)):e.push(Object(E.jsxs)("span",{children:[a.unit," "]},t+1))}return Object(E.jsx)("span",{children:e})}}]),a}(r.Component);var Pe=function(e){document.getElementById("statusContent").innerHTML=e},we=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).param=e.param,r.validated=!1,r.unitIndex=-1,r.parameter=null,r.showingUnit=!1,r.state={value:"",computed:!1},r.values=null,r}return Object(o.a)(a,[{key:"handleChange",value:function(e){this.validated=!1,this.setState({value:e.target.value})}},{key:"validate",value:function(e){var t=e;if(this.unitIndex>=0&&this.values&&e==this.values[this.unitIndex])this.validated=!0;else if(this.parameter=null,this.unitIndex=-1,this.state.computed&&this.setState({computed:!1}),this.values=null,null!=e&&0!=e.length){var a=(e=(e=(e=(e=(e=e.trim()).replace(/,/g," ")).replace("["," ")).replace("]"," ")).replace(/\s+/g," ")).split(" "),r=null;2!==a.length&&4!==a.length&&10!==a.length||(r=a.pop().toLowerCase());var n=null;if(r&&this.param.units){var i;for(this.unitIndex=-1,i=0;i<this.param.units.length;i+=1){if(this.param.units[i].unit.toLowerCase()===r){n=this.param.units[i],this.unitIndex=i;break}}if(this.unitIndex<0)return void Pe("Error: Unknown unit:"+r+" for parameter "+this.param.name+". Last token ignored.")}this.unitIndex<0&&this.param.units&&(this.unitIndex=this.getDftUnit(),n=this.param.units[this.unitIndex]);var s=1,c=0;if(n&&(s=n.scale,n.offset&&(c=n.offset)),1===a.length){if(this.param.dim!==Y.SCALAR)return void Pe("Scalar specification for non-scalar parameter");e=a[0];if(isNaN(e))return void Pe("Not a numerical value");e=(Number.parseFloat(e)-c)*s,this.parameter=G.genParam(this.param.name,e,n)}else{if(3!==a.length)return void Pe("Unexpected number of tokens in parameter:"+a.length);if(this.param.dim!==Y.VECTOR)return void Pe("Vector specification for non-vector");if(isNaN(a[0])||isNaN(a[1]||isNaN(a[2])))return void Pe("Not a numeric vector");this.parameter=G.genParam(this.param.name,[Number.parseFloat(a[0])*s,Number.parseFloat(a[1])*s,Number.parseFloat(a[2])*s],n)}n&&this.genValues(t),this.validated=!0,Pe("")}else this.validated=!1}},{key:"genValues",value:function(e){if(this.param.units){var t=this.param.units;this.values=[];for(var a=0;a<t.length;a+=1)a==this.unitIndex?this.values[a]=e:this.values[a]=this.renderToUnit(t[a])}}},{key:"getDftUnit",value:function(){for(var e=0;e<this.param.units.length;e+=1){var t=this.param.units[e];if("d"==t.unit||1==t.scale&&"rad"!=t.unit)return e}d.log("No default unit found:"+this.param.name)}},{key:"cycleUnits",value:function(){this.validated||this.validate(this.state.value),this.validated?(this.unitIndex=(this.unitIndex+1)%this.param.units.length,this.setState({value:this.values[this.unitIndex]})):Pe("Invalid entry, cannot cycle units")}},{key:"renderNow",value:function(){return this.valuesArr[this.unitIndex]+this.param.units[this.unitIndex].unit}},{key:"renderToUnit",value:function(e){if(!this.parameter)return"";var t=e.scale,a=e.offset?e.offset:0;if(this.param.dim==Y.SCALAR)return this.dispScalar(this.parameter.getScalar(),7,t,a)+" "+e.unit;var r=this.parameter.getVector();return"[ "+this.dispVector(r,5,t,a)+" ] "+e.unit}},{key:"dispScalar",value:function(e,t,a,r){return(e/a+r).toPrecision(t)}},{key:"dispVector",value:function(e,t,a,r){for(var n="",i="",s=0;s<e.length;s+=1)n+=i+this.dispScalar(e[s],t,a,r),i=" ";return n}},{key:"render",value:function(){var e=this.param,t=this,a=this.state.computed?"yellow":"white";return Object(E.jsxs)("tr",{className:a,children:[Object(E.jsx)("th",{align:"right",children:e.name}),Object(E.jsx)("td",{children:Object(E.jsx)("input",{size:"18",value:this.state.value,onChange:this.handleChange.bind(this),onKeyUp:function(e){"Enter"===e.key&&t.validate(e.target.value)}})}),Object(E.jsx)("td",{children:Object(E.jsx)(ke,{row:this,value:this.state.value,name:e.name,units:e.units})}),Object(E.jsx)("td",{children:e.descrip})]},e.name)}},{key:"setParameter",value:function(e){var t;(this.unitIndex=-1,this.parameter=e,this.validated=!0,this.param.units)?(this.genValues(""),this.unitIndex=this.getDftUnit()-1,this.cycleUnits(),this.setState({computed:!0})):(this.param.dim==Y.SCALAR?t=this.dispScalar(e.getScalar(),7,1,0):this.param.dim==Y.VECTOR?t=this.dispVector(e.getVector(),5,1,0):this.param.dim==Y.BLOB&&(t=this.dispVector(e.getVector(),4,1,0)),this.setState({value:t,computed:!0}))}}]),a}(r.Component),xe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).params=G.legalParameters,r.orbit=null,r.fixed=null,r.varies=null,r.fixedRef=[],r.variesRef=[],r.orbitName=null,r.animFactory=null,r.displayCount=0,r}return Object(o.a)(a,[{key:"render",value:function(){var e=this;this.varies=[],this.fixed=[];var t=!0;for(var a in this.fixedRef.length>0&&(t=!1),this.params){var n,i,s=this.params[a];t?(n=Object(r.createRef)(),i=Object(E.jsx)(we,{ref:n,param:s})):i=Object(E.jsx)(we,{param:s}),s.varies?(this.varies.push(i),t&&this.variesRef.push(n)):(this.fixed.push(i),t&&this.fixedRef.push(n))}return Object(E.jsxs)("div",{children:["Name for orbit:\xa0",Object(E.jsx)(w,{placeholder:"Optional name",callback:function(t){e.setOrbitName(t)}}),Object(E.jsx)("p",{}),"Status: ",Object(E.jsx)("div",{id:"statusContent"}),Object(E.jsx)("p",{}),Object(E.jsx)("table",{children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Value"}),Object(E.jsx)("th",{children:"Units"}),Object(E.jsx)("th",{align:"left",children:"Description"})]},"hdr"),Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{colSpan:"4",align:"center",children:[" ",Object(E.jsx)("i",{children:"Orbit Constants"})]})},"div1"),this.fixed,Object(E.jsx)("tr",{children:Object(E.jsx)("td",{colSpan:"4",align:"center",children:Object(E.jsx)("i",{children:"Orbit Variables"})})},"div2"),this.varies]})}),Object(E.jsx)("table",{children:Object(E.jsx)("tbody",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)("button",{onClick:this.compute.bind(this),children:"Compute"})},"1"),Object(E.jsx)("td",{children:Object(E.jsx)("button",{onClick:this.displayOrbit.bind(this),children:"Render orbit"})},"2"),Object(E.jsx)("td",{children:Object(E.jsx)("button",{onClick:this.clearAll.bind(this),children:"Clear all"})},"3"),Object(E.jsx)("td",{children:Object(E.jsx)("button",{onClick:this.clearVarying.bind(this),children:"Clear variables only"})},"4")]})})}),Object(E.jsx)("p",{}),Object(E.jsx)("hr",{}),Object(E.jsx)(je,{})]})}},{key:"setAnimFactory",value:function(e){this.animFactory=e}},{key:"clearAll",value:function(){this.clear(this.fixedRef),this.clear(this.variesRef)}},{key:"clearVarying",value:function(){this.clear(this.variesRef)}},{key:"clear",value:function(e){for(var t=0;t<e.length;t+=1){var a=e[t].current;a.state&&a.state.value&&a.setState({value:"",computed:!1}),a.parameter=null,a.validated=!1}}},{key:"compute",value:function(){for(var e=this.fixedRef.concat(this.variesRef),t=new B(this.orbitName),a=0;a<e.length;a+=1){var r=e[a].current;if(r.state&&r.state.value){if(!r.validated&&(r.validate(r.state.value),!r.validated))return void Pe("Invalid entry for parameter:"+r.param.name);t.addParameter(r.parameter)}}Pe("");for(var n=!0,i=0;n;){n=!1;for(a=0;a<e.length;a+=1){var s=e[a].current;if(!s.parameter){var c=s.param.name,o=t.getParameter(c,!0);null!=o&&(n=!0,i+=1,s.setParameter(o))}}}this.orbit=t,Pe(i+" parameters computed")}},{key:"displayOrbit",value:function(){this.compute(),this.displayCount+=1;var e=this.orbit.quickOrbit();if(null==e)Pe("Insufficient known orbital parameters to determine orbit");else{var t=this.orbit.getOrbitName();t||(t="UserOrbit"),t+=this.orbitCount;var a=this.orbit.getParameter("M").value,r=a/Constants.MSun,n=null;r>.999999&&r<1.000001?n="Solar System":(r=a/Constants.MEarth)>.999999&&r<1.000001&&(amim="The Earth and environs"),n?this.animFactory.getAnimation(n).addExternalOrbit(t,e):Pe("Central orbit mass not consistent with Earth or sun")}}},{key:"setOrbitName",value:function(e){this.orbitName=e}}]),a}(r.Component),Te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).orbParams=!1;var i=window.location.href;return n.controls=Object(r.createRef)(),i.indexOf("app=params")>=0&&(n.orbParams=!0),n.orbParams?Object(l.a)(n):(n.frame=null,n)}return Object(o.a)(a,[{key:"onWindowResize",value:function(){if(!this.orbParams){var e=window.innerWidth,t=window.innerHeight;this.frame.resize(e,t)}}},{key:"render",value:function(){if(this.orbParams)return this.renderOrbParams();var e=window.innerWidth,t=window.innerHeight;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{style:{height:e+"px",width:t+"px"},id:"baseCanvas"}),Object(E.jsx)(y,{ref:this.controls})]})}},{key:"renderOrbParams",value:function(){return Object(E.jsx)(xe,{ref:this.controls})}},{key:"componentDidMount",value:function(){this.orbParams?this.componentDidMountOrbParams():(window.addEventListener("resize",this.onWindowResize.bind(this)),this.frame=new b({animDiv:"baseCanvas",size:[window.innerWidth,window.innerHeight]}),this.solar=Ae.getAnimation("Solar System",{timeID:"timeDisplay",frame:this.frame}),this.frame.setUserControls(this.controls.current),this.frame.setAnimation(this.solar)),window.GLOBALS={animFactory:Ae}}},{key:"componentDidMountOrbParams",value:function(){var e=window.opener;e&&this.controls.current.setAnimFactory(e.GLOBALS.animFactory)}}]),a}(r.Component);s.a.render(Object(E.jsx)(n.a.StrictMode,{children:Object(E.jsx)(Te,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.125370e1.chunk.js.map